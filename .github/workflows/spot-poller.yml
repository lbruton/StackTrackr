# Spot price poller — RETIRED 2026-02-23
# Spot polling moved to Fly.io container cron (run-spot.sh, 5,20,35,50 * * * *).
# This workflow is kept ONLY for emergency manual trigger.
# Do NOT re-enable scheduled runs — poller.py was removed from this repo.
name: Spot Price Poller (RETIRED)

on:
  workflow_dispatch:  # Manual trigger only — all scheduled crons removed

env:
  TZ: UTC

jobs:
  redirect:
    runs-on: ubuntu-latest
    steps:
      - name: Retired — use Fly.io container
        run: |
          echo "⚠️  This workflow is RETIRED."
          echo "Spot polling runs inside the Fly.io staktrakr container at 5,20,35,50 * * * *."
          echo "To check spot data: fly logs --app staktrakr | grep spot"
          echo "To manually trigger: fly ssh console --app staktrakr -C '/app/run-spot.sh'"
