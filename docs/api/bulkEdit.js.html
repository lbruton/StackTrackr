<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: bulkEdit.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: bulkEdit.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * bulkEdit.js — Bulk Edit Tool
 *
 * Full-screen modal for selecting multiple inventory items and applying
 * field changes, copying, or deleting in bulk. Integrates with Numista
 * catalog lookup to populate field values.
 *
 * Selection uses item.serial (stable unique ID) — never array indices.
 */

// =============================================================================
// MODULE STATE
// =============================================================================

let bulkSelection = new Set();     // Set of item serial strings
let bulkFieldValues = {};           // { fieldId: value } for enabled fields
let bulkEnabledFields = new Set();  // Which field checkboxes are checked
let bulkSearchTerm = '';            // Current search/filter text
let bulkSearchTimer = null;         // Debounce timer for search input
let bulkSortCol = null;             // Column key to sort by, or null
let bulkSortDir = 'asc';            // 'asc' | 'desc'

// Tracks blob URLs created for bulk image thumbnails so we can revoke them
// when the modal closes, preventing memory leaks.
const _bulkBlobUrls = new Set();

// =============================================================================
// SEARCH FILTER HELPER
// =============================================================================

const getFilteredItems = (term) => {
  if (typeof inventory === 'undefined' || !Array.isArray(inventory)) return [];
  const t = (term || '').toLowerCase().trim();
  if (!t) return inventory.slice();
  return inventory.filter(item =>
    (item.name || '').toLowerCase().includes(t) ||
    (item.metal || '').toLowerCase().includes(t) ||
    (item.type || '').toLowerCase().includes(t) ||
    (item.year || '').toLowerCase().includes(t) ||
    (item.storageLocation || '').toLowerCase().includes(t) ||
    (item.purchaseLocation || '').toLowerCase().includes(t) ||
    String(item.serial).includes(t)
  );
};

// =============================================================================
// EDITABLE FIELDS DEFINITION
// =============================================================================

const BULK_EDITABLE_FIELDS = [
  { id: 'name',             label: 'Name',              inputType: 'text' },
  { id: 'metal',            label: 'Metal',             inputType: 'select',
    options: ['Silver', 'Gold', 'Platinum', 'Palladium'] },
  { id: 'type',             label: 'Type',              inputType: 'select',
    options: ['Coin', 'Bar', 'Round', 'Note', 'Aurum', 'Set', 'Other'] },
  { id: 'qty',              label: 'Quantity',           inputType: 'number',
    attrs: { min: '1', step: '1' } },
  { id: 'weight',           label: 'Weight',             inputType: 'number',
    attrs: { min: '0', step: '0.001' } },
  { id: 'weightUnit',       label: 'Weight Unit',        inputType: 'select',
    options: [
      { value: 'oz', label: 'ounce' },
      { value: 'g',  label: 'gram' },
      { value: 'gb', label: 'goldback' }
    ] },
  { id: 'purity',           label: 'Purity',             inputType: 'select',
    options: [
      { value: '1.0',    label: '100% — Pure' },
      { value: '0.9999', label: '.9999 — Four Nines' },
      { value: '0.9995', label: '.9995 — Pure Platinum' },
      { value: '0.999',  label: '.999 — Fine' },
      { value: '0.925',  label: '.925 — Sterling' },
      { value: '0.9167', label: '.9167 — 22K (Krugerrand)' },
      { value: '0.900',  label: '.900 — 90% Silver' },
      { value: '0.800',  label: '.800 — 80% (European)' },
      { value: '0.600',  label: '.600 — 60%' },
      { value: '0.400',  label: '.400 — 40% Silver' },
      { value: '0.350',  label: '.350 — War Nickels' },
      { value: 'custom', label: 'Custom…' }
    ] },
  { id: 'price',            label: 'Purchase Price',     inputType: 'number',
    attrs: { min: '0', step: '0.01' } },
  { id: 'marketValue',      label: 'Retail Price',       inputType: 'number',
    attrs: { min: '0', step: '0.01' } },
  { id: 'year',             label: 'Year',              inputType: 'text' },
  { id: 'grade',            label: 'Grade',             inputType: 'select',
    options: [
      { value: '', label: '-- None --' },
      { value: 'AG', label: 'AG - About Good' },
      { value: 'G', label: 'G - Good' },
      { value: 'VG', label: 'VG - Very Good' },
      { value: 'F', label: 'F - Fine' },
      { value: 'VF', label: 'VF - Very Fine' },
      { value: 'XF', label: 'XF - Extremely Fine' },
      { value: 'AU', label: 'AU - About Uncirculated' },
      { value: 'UNC', label: 'UNC - Uncirculated' },
      { value: 'BU', label: 'BU - Brilliant Uncirculated' },
      { value: 'MS-60', label: 'MS-60' },
      { value: 'MS-61', label: 'MS-61' },
      { value: 'MS-62', label: 'MS-62' },
      { value: 'MS-63', label: 'MS-63' },
      { value: 'MS-64', label: 'MS-64' },
      { value: 'MS-65', label: 'MS-65' },
      { value: 'MS-66', label: 'MS-66' },
      { value: 'MS-67', label: 'MS-67' },
      { value: 'MS-68', label: 'MS-68' },
      { value: 'MS-69', label: 'MS-69' },
      { value: 'MS-70', label: 'MS-70' },
      { value: 'PF-60', label: 'PF-60' },
      { value: 'PF-61', label: 'PF-61' },
      { value: 'PF-62', label: 'PF-62' },
      { value: 'PF-63', label: 'PF-63' },
      { value: 'PF-64', label: 'PF-64' },
      { value: 'PF-65', label: 'PF-65' },
      { value: 'PF-66', label: 'PF-66' },
      { value: 'PF-67', label: 'PF-67' },
      { value: 'PF-68', label: 'PF-68' },
      { value: 'PF-69', label: 'PF-69' },
      { value: 'PF-70', label: 'PF-70' }
    ] },
  { id: 'gradingAuthority', label: 'Grading Auth',      inputType: 'select',
    options: [
      { value: '', label: '-- None --' },
      { value: 'PCGS', label: 'PCGS' },
      { value: 'NGC', label: 'NGC' },
      { value: 'ANACS', label: 'ANACS' },
      { value: 'ICG', label: 'ICG' }
    ] },
  { id: 'certNumber',       label: 'Cert #',             inputType: 'text' },
  { id: 'pcgsNumber',       label: 'PCGS Number',       inputType: 'text' },
  { id: 'purchaseLocation', label: 'Purchase Loc',      inputType: 'text' },
  { id: 'storageLocation',  label: 'Storage Loc',       inputType: 'text' },
  { id: 'date',             label: 'Purchase Date',     inputType: 'date' },
  { id: 'serialNumber',     label: 'Serial Number',     inputType: 'text' },
  { id: 'notes',            label: 'Notes',             inputType: 'textarea' },
  { id: 'numistaId',        label: 'Numista #',         inputType: 'text' },
  { id: 'obverseImageUrl',  label: 'Obverse URL',       inputType: 'text',
    attrs: { placeholder: 'https://example.com/obverse.jpg' } },
  { id: 'reverseImageUrl',  label: 'Reverse URL',       inputType: 'text',
    attrs: { placeholder: 'https://example.com/reverse.jpg' } },
];

// =============================================================================
// OPEN / CLOSE
// =============================================================================

const openBulkEdit = () => {
  const modal = safeGetElement('bulkEditModal');
  if (!modal) return;

  // Always start with a clean selection (STACK-55)
  bulkSelection = new Set();

  modal.style.display = 'flex';
  document.body.style.overflow = 'hidden';

  renderBulkFieldPanel();
  renderBulkTable();
  renderBulkFooter();

  // Focus search input after render
  const searchInput = safeGetElement('bulkEditSearch');
  if (searchInput) searchInput.focus();
};

const closeBulkEdit = () => {
  const modal = safeGetElement('bulkEditModal');
  if (!modal) return;

  // Clear Numista callback
  window._bulkEditNumistaCallback = null;

  // Revoke all blob URLs created for thumbnails to free memory
  _bulkBlobUrls.forEach(u => { try { URL.revokeObjectURL(u); } catch (e) { /* ignore */ } });
  _bulkBlobUrls.clear();

  modal.style.display = 'none';
  document.body.style.overflow = '';
};

// =============================================================================
// HELPER FACTORIES
// =============================================================================

/**
 * Creates the appropriate input element for a bulk edit field definition.
 * @param {Object} field - Field definition from BULK_EDITABLE_FIELDS
 * @returns {HTMLElement} The input/select/textarea element
 */
const createFieldInput = (field) => {
  let input;
  if (field.inputType === 'select') {
    input = document.createElement('select');
    field.options.forEach(opt => {
      const option = document.createElement('option');
      if (typeof opt === 'object' &amp;&amp; opt !== null) {
        option.value = opt.value;
        option.textContent = opt.label;
      } else {
        option.value = opt;
        option.textContent = opt;
      }
      input.appendChild(option);
    });
  } else if (field.inputType === 'textarea') {
    input = document.createElement('textarea');
    input.rows = 2;
  } else {
    input = document.createElement('input');
    input.type = field.inputType;
    if (field.attrs) {
      Object.keys(field.attrs).forEach(k => input.setAttribute(k, field.attrs[k]));
    }
  }
  input.className = 'field-input';
  input.id = 'bulkFieldVal_' + field.id;
  return input;
};

/** Coercion rules: fieldId → (rawValue) => coerced value */
const FIELD_COERCIONS = {
  qty:         (v) => { const n = parseInt(v, 10);  return (isNaN(n) || n &lt; 1)            ? 1   : n; },
  weight:      (v) => { const n = parseFloat(v);    return (isNaN(n) || n &lt; 0)            ? 0   : n; },
  price:       (v) => { const n = parseFloat(v);    return (isNaN(n) || n &lt; 0)            ? 0   : n; },
  marketValue: (v) => { const n = parseFloat(v);    return (isNaN(n) || n &lt; 0)            ? 0   : n; },
  purity:      (v) => { const n = parseFloat(v);    return (isNaN(n) || n &lt;= 0 || n > 1)  ? 1.0 : n; },
};

/**
 * Coerces a bulk edit field value to the correct type based on field ID.
 * @param {string} fieldId - The field identifier
 * @param {string} value - The raw string value from the input
 * @returns {*} The coerced value
 */
const coerceFieldValue = (fieldId, value) => {
  const coerce = FIELD_COERCIONS[fieldId];
  if (coerce) return coerce(value);
  return (typeof value === 'string') ? sanitizeHtml(value) : value;
};

/**
 * Builds a table row element for a single inventory item in the bulk edit table.
 * @param {Object} item - The inventory item
 * @param {boolean} isPinned - Whether the row is in the pinned section
 * @returns {HTMLTableRowElement} The constructed row
 */
const buildBulkItemRow = (item, isPinned) => {
  const serial = String(item.serial);
  const tr = document.createElement('tr');
  tr.setAttribute('data-serial', serial);
  const isSelected = bulkSelection.has(serial);
  if (isSelected) tr.classList.add('bulk-edit-selected');
  if (isPinned) tr.classList.add('bulk-edit-pinned');

  // Row click toggles selection
  tr.addEventListener('click', (e) => {
    if (e.target.type === 'checkbox') return;
    toggleItemSelection(serial);
  });

  // Checkbox cell
  const cbTd = document.createElement('td');
  const cb = document.createElement('input');
  cb.type = 'checkbox';
  cb.checked = isSelected;
  cb.addEventListener('change', () => toggleItemSelection(serial));
  cbTd.appendChild(cb);
  tr.appendChild(cbTd);

  // Image thumbnail cell — resolved async from IDB after row is appended
  const imgTd = document.createElement('td');
  imgTd.className = 'bulk-img-cell';
  // Placeholder pair shown until IDB resolves
  imgTd.innerHTML = '&lt;span class="bulk-img-placeholder" data-side="obverse">&lt;/span>';
  // Store item identity for the async loader and upload popover
  imgTd.dataset.uuid       = item.uuid || '';
  imgTd.dataset.numistaId  = item.numistaId || '';
  imgTd.dataset.itemName   = item.name || '';
  imgTd.dataset.serial     = serial;
  imgTd.title = 'Click to manage photos';
  imgTd.style.cursor = 'pointer';
  imgTd.addEventListener('click', (e) => {
    e.stopPropagation();
    _openBulkImagePopover(imgTd, item);
  });
  tr.appendChild(imgTd);

  // Data cells
  const addCell = (text) => {
    const td = document.createElement('td');
    td.textContent = text || '';
    td.title = text || '';
    tr.appendChild(td);
  };

  addCell(item.name);
  addCell(item.metal);
  addCell(item.type);
  addCell(item.qty != null ? String(item.qty) : '1');
  addCell(item.weight != null ? (typeof formatWeight === 'function' ? formatWeight(item.weight, item.weightUnit) : String(item.weight)) : '');
  addCell(item.purity != null ? String(item.purity) : '');
  addCell(item.year || '');
  addCell(item.grade || '');
  addCell(item.price != null ? (typeof formatCurrency === 'function' ? formatCurrency(item.price) : String(item.price)) : '');
  addCell(item.storageLocation || '');
  addCell(item.purchaseLocation || '');
  addCell(item.date || '');

  return tr;
};

// =============================================================================
// FIELD PANEL (left side)
// =============================================================================

const renderBulkFieldPanel = () => {
  const panel = safeGetElement('bulkEditFieldPanel');
  if (!panel) return;

  // Clear existing content
  while (panel.firstChild) panel.removeChild(panel.firstChild);

  // Header
  const heading = document.createElement('h3');
  heading.textContent = 'Fields to Update';
  panel.appendChild(heading);

  const hint = document.createElement('p');
  hint.style.cssText = 'font-size:0.75rem;color:var(--text-secondary);margin:0 0 0.75rem 0;';
  hint.textContent = 'Check a field to enable it, then set the value to apply.';
  panel.appendChild(hint);

  // Build field rows
  BULK_EDITABLE_FIELDS.forEach(field => {
    const row = document.createElement('div');
    row.className = 'bulk-edit-field-row';

    // Checkbox
    const cb = document.createElement('input');
    cb.type = 'checkbox';
    cb.id = 'bulkField_' + field.id;
    cb.checked = bulkEnabledFields.has(field.id);

    // Label
    const lbl = document.createElement('label');
    lbl.setAttribute('for', 'bulkField_' + field.id);
    lbl.textContent = field.label;

    // Input
    const input = createFieldInput(field);
    input.disabled = !bulkEnabledFields.has(field.id);

    // Restore persisted value
    if (bulkFieldValues[field.id] !== undefined) {
      input.value = bulkFieldValues[field.id];
    }

    // Checkbox toggle — also re-renders footer to update Apply button disabled state
    cb.addEventListener('change', () => {
      if (cb.checked) {
        bulkEnabledFields.add(field.id);
        input.disabled = false;
        input.focus();
      } else {
        bulkEnabledFields.delete(field.id);
        input.disabled = true;
      }
      renderBulkFooter();
    });

    // Track value changes
    input.addEventListener('input', () => {
      bulkFieldValues[field.id] = input.value;
    });
    input.addEventListener('change', () => {
      bulkFieldValues[field.id] = input.value;
    });

    row.appendChild(cb);
    row.appendChild(lbl);
    row.appendChild(input);
    panel.appendChild(row);
  });

  // Wire up denomination picker swap for weight field (mirrors main modal)
  const bwInput = safeGetElement('bulkFieldVal_weight');
  const bwUnitSelect = safeGetElement('bulkFieldVal_weightUnit');
  const bwLabel = panel.querySelector('label[for="bulkField_weight"]');
  const bwCheckbox = safeGetElement('bulkField_weight');

  if (bwInput &amp;&amp; bwUnitSelect &amp;&amp; typeof GOLDBACK_DENOMINATIONS !== 'undefined') {
    // Build hidden denomination select
    const denomSelect = document.createElement('select');
    denomSelect.className = 'field-input';
    denomSelect.id = 'bulkFieldVal_weightDenom';
    denomSelect.style.display = 'none';
    denomSelect.disabled = bwInput.disabled;

    GOLDBACK_DENOMINATIONS.forEach(d => {
      const opt = document.createElement('option');
      opt.value = String(d.weight);
      opt.textContent = d.label;
      denomSelect.appendChild(opt);
    });

    // Insert right after weight input in the same row
    bwInput.parentNode.insertBefore(denomSelect, bwInput.nextSibling);

    // Restore persisted value
    if (bulkFieldValues['weight'] !== undefined) {
      denomSelect.value = String(bulkFieldValues['weight']);
    }

    // Track denomination changes → update weight field value
    denomSelect.addEventListener('change', () => {
      bulkFieldValues['weight'] = denomSelect.value;
    });

    // Swap function
    const toggleBulkGbPicker = () => {
      const isGb = bwUnitSelect.value === 'gb';
      bwInput.style.display = isGb ? 'none' : '';
      denomSelect.style.display = isGb ? '' : 'none';
      if (bwLabel) bwLabel.textContent = isGb ? 'Denomination' : 'Weight';
      if (isGb) {
        denomSelect.disabled = bwInput.disabled;
        bulkFieldValues['weight'] = denomSelect.value;
      }
    };

    // Listen for unit changes
    bwUnitSelect.addEventListener('change', toggleBulkGbPicker);

    // Sync disabled state when weight checkbox toggles
    if (bwCheckbox) {
      bwCheckbox.addEventListener('change', () => {
        denomSelect.disabled = !bwCheckbox.checked;
      });
    }

    // Initialize state (e.g. if weightUnit was persisted as 'gb')
    if (bulkFieldValues['weightUnit'] === 'gb') {
      bwUnitSelect.value = 'gb';
      toggleBulkGbPicker();
    }
  }

  // Wire up custom purity input behavior (matches inventory modal pattern)
  const puritySelect = safeGetElement('bulkFieldVal_purity');
  const purityCheckbox = safeGetElement('bulkField_purity');
  if (puritySelect) {
    const purityCustomInput = document.createElement('input');
    purityCustomInput.type = 'number';
    purityCustomInput.id = 'bulkFieldVal_purityCustom';
    purityCustomInput.className = 'field-input';
    purityCustomInput.min = '0.001';
    purityCustomInput.max = '1';
    purityCustomInput.step = '0.0001';
    purityCustomInput.placeholder = 'e.g. 0.9995';
    purityCustomInput.setAttribute('aria-label', 'Custom purity');
    purityCustomInput.style.display = 'none';
    purityCustomInput.disabled = puritySelect.disabled;
    puritySelect.parentNode.insertBefore(purityCustomInput, puritySelect.nextSibling);

    const optionValues = new Set(Array.from(puritySelect.options).map(option => option.value));
    const savedPurity = bulkFieldValues.purity;
    if (savedPurity !== undefined) {
      const savedPurityStr = String(savedPurity);
      if (optionValues.has(savedPurityStr) &amp;&amp; savedPurityStr !== 'custom') {
        puritySelect.value = savedPurityStr;
      } else {
        puritySelect.value = 'custom';
        purityCustomInput.value = savedPurityStr;
      }
    }

    const syncPurityState = () => {
      const isCustom = puritySelect.value === 'custom';
      purityCustomInput.style.display = isCustom ? '' : 'none';
      purityCustomInput.disabled = puritySelect.disabled || !isCustom;
      if (isCustom) {
        bulkFieldValues.purity = purityCustomInput.value;
      } else {
        bulkFieldValues.purity = puritySelect.value;
      }
    };

    puritySelect.addEventListener('change', syncPurityState);
    purityCustomInput.addEventListener('input', () => {
      bulkFieldValues.purity = purityCustomInput.value;
    });
    purityCustomInput.addEventListener('change', () => {
      bulkFieldValues.purity = purityCustomInput.value;
    });

    if (purityCheckbox) {
      purityCheckbox.addEventListener('change', () => {
        syncPurityState();
      });
    }

    syncPurityState();
  }

};

// =============================================================================
// ITEM TABLE (right side)
// =============================================================================

/**
 * Renders the toolbar (search, buttons, badge) — called once on open.
 * The toolbar persists across search/selection updates.
 */
const renderBulkToolbar = () => {
  const toolbar = safeGetElement('bulkEditToolbar');
  if (!toolbar) return;

  while (toolbar.firstChild) toolbar.removeChild(toolbar.firstChild);

  // Numista Lookup button (left of search)
  if (typeof catalogAPI !== 'undefined') {
    const numistaBtn = document.createElement('button');
    numistaBtn.type = 'button';
    numistaBtn.className = 'bulk-edit-numista-btn';
    numistaBtn.textContent = 'Numista Lookup';
    numistaBtn.title = 'Search Numista catalog and fill field values';
    numistaBtn.addEventListener('click', triggerBulkNumistaLookup);
    toolbar.appendChild(numistaBtn);
  }

  const searchInput = document.createElement('input');
  searchInput.type = 'search';
  searchInput.id = 'bulkEditSearch';
  searchInput.placeholder = 'Search items...';
  searchInput.value = bulkSearchTerm || '';
  searchInput.addEventListener('input', () => {
    // Debounce: wait 250ms after last keystroke before filtering
    if (bulkSearchTimer) clearTimeout(bulkSearchTimer);
    bulkSearchTimer = setTimeout(() => {
      bulkSearchTerm = searchInput.value;
      renderBulkTableBody();
    }, 250);
  });
  toolbar.appendChild(searchInput);

  const selectAllBtn = document.createElement('button');
  selectAllBtn.type = 'button';
  selectAllBtn.className = 'btn btn-secondary';
  selectAllBtn.textContent = 'Select All';
  selectAllBtn.addEventListener('click', () => selectAllItems(true));
  toolbar.appendChild(selectAllBtn);

  const selectNoneBtn = document.createElement('button');
  selectNoneBtn.type = 'button';
  selectNoneBtn.className = 'btn btn-secondary';
  selectNoneBtn.textContent = 'Select None';
  selectNoneBtn.addEventListener('click', () => selectAllItems(false));
  toolbar.appendChild(selectNoneBtn);

  const badge = document.createElement('span');
  badge.className = 'bulk-edit-count-badge';
  badge.id = 'bulkEditCountBadge';
  badge.textContent = bulkSelection.size + ' selected';
  toolbar.appendChild(badge);
};

/**
 * Renders the table body (rows) — called on search, selection, and data changes.
 * Does NOT touch the toolbar, preserving search input focus.
 */
const renderBulkTableBody = () => {
  const wrap = safeGetElement('bulkEditTableWrap');
  if (!wrap) return;

  while (wrap.firstChild) wrap.removeChild(wrap.firstChild);

  if (typeof inventory === 'undefined' || !Array.isArray(inventory) || inventory.length === 0) {
    const empty = document.createElement('p');
    empty.style.cssText = 'padding:2rem;text-align:center;color:var(--text-secondary);';
    empty.textContent = 'No inventory items found.';
    wrap.appendChild(empty);
    return;
  }

  // Filter by search term
  const filtered = getFilteredItems(bulkSearchTerm);
  const term = (bulkSearchTerm || '').toLowerCase().trim();

  // Compute pinned items — selected items NOT in search results (only when search active)
  let pinnedItems = [];
  if (term) {
    const filteredSerials = new Set(filtered.map(i => String(i.serial)));
    pinnedItems = inventory.filter(item =>
      bulkSelection.has(String(item.serial)) &amp;&amp; !filteredSerials.has(String(item.serial))
    );
  }

  const table = document.createElement('table');
  table.className = 'bulk-edit-table';

  // Column definitions
  const columns = [
    { key: 'cb',              label: '',              nosort: true },
    { key: 'img',             label: 'Img',           nosort: true },
    { key: 'name',            label: 'Name' },
    { key: 'metal',           label: 'Metal' },
    { key: 'type',            label: 'Type' },
    { key: 'qty',             label: 'Qty' },
    { key: 'weight',          label: 'Weight' },
    { key: 'purity',          label: 'Purity' },
    { key: 'year',            label: 'Year' },
    { key: 'grade',           label: 'Grade' },
    { key: 'price',           label: 'Price' },
    { key: 'storageLocation', label: 'Location' },
    { key: 'purchaseLocation',label: 'Purchased At' },
    { key: 'date',            label: 'Date' },
  ];
  const colCount = columns.length;

  // Sort filtered items (preserves original array for selection state checks)
  const sortedFiltered = bulkSortCol
    ? [...filtered].sort((a, b) => {
        const av = a[bulkSortCol] ?? '';
        const bv = b[bulkSortCol] ?? '';
        const cmp = (typeof av === 'number' &amp;&amp; typeof bv === 'number')
          ? av - bv
          : String(av).localeCompare(String(bv), undefined, { numeric: true });
        return bulkSortDir === 'asc' ? cmp : -cmp;
      })
    : filtered;

  // Master checkbox state (based on filtered items only, excludes pinned)
  const allFilteredSelected = filtered.length > 0 &amp;&amp;
    filtered.every(item => bulkSelection.has(String(item.serial)));
  const someFilteredSelected = !allFilteredSelected &amp;&amp;
    filtered.some(item => bulkSelection.has(String(item.serial)));

  // Thead
  const thead = document.createElement('thead');
  const headerRow = document.createElement('tr');

  columns.forEach(col => {
    const th = document.createElement('th');
    if (col.key === 'cb') {
      const masterCb = document.createElement('input');
      masterCb.type = 'checkbox';
      masterCb.title = 'Toggle all visible';
      masterCb.checked = allFilteredSelected;
      masterCb.indeterminate = someFilteredSelected;
      masterCb.addEventListener('change', () => selectAllItems(masterCb.checked));
      th.appendChild(masterCb);
    } else if (col.nosort) {
      th.textContent = col.label;
    } else {
      th.textContent = col.label;
      th.classList.add('bulk-sortable');
      if (bulkSortCol === col.key) {
        th.classList.add(bulkSortDir === 'asc' ? 'sort-asc' : 'sort-desc');
      }
      th.addEventListener('click', () => {
        if (bulkSortCol === col.key) {
          bulkSortDir = bulkSortDir === 'asc' ? 'desc' : 'asc';
        } else {
          bulkSortCol = col.key;
          bulkSortDir = 'asc';
        }
        renderBulkTableBody();
      });
    }
    headerRow.appendChild(th);
  });
  thead.appendChild(headerRow);
  table.appendChild(thead);

  // Tbody
  const tbody = document.createElement('tbody');

  // Pinned section (selected items not matching current search)
  if (pinnedItems.length > 0) {
    // Section header
    const headerTr = document.createElement('tr');
    headerTr.className = 'bulk-edit-pinned-header';
    const headerTd = document.createElement('td');
    headerTd.colSpan = colCount;
    headerTd.textContent = 'Pinned selections (' + pinnedItems.length + ')';
    headerTr.appendChild(headerTd);
    tbody.appendChild(headerTr);

    // Pinned rows
    pinnedItems.forEach(item => {
      tbody.appendChild(buildBulkItemRow(item, true));
    });

    // Divider
    const divTr = document.createElement('tr');
    divTr.className = 'bulk-edit-pinned-divider';
    const divTd = document.createElement('td');
    divTd.colSpan = colCount;
    divTr.appendChild(divTd);
    tbody.appendChild(divTr);
  }

  // Filtered rows (sorted)
  sortedFiltered.forEach(item => {
    tbody.appendChild(buildBulkItemRow(item, false));
  });

  table.appendChild(tbody);
  wrap.appendChild(table);

  // Update badge count
  const badge = safeGetElement('bulkEditCountBadge');
  if (badge) badge.textContent = bulkSelection.size + ' selected';

  // Async-load images for all rows now that they are in the DOM
  const allRows = [...pinnedItems, ...sortedFiltered];
  allRows.forEach(item => {
    const tr = tbody.querySelector(`tr[data-serial="${CSS.escape(String(item.serial))}"]`);
    if (tr) _loadBulkRowImages(tr, item);
  });
};

/**
 * Full render — toolbar + table body. Called on open and after bulk actions.
 */
const renderBulkTable = () => {
  renderBulkToolbar();
  renderBulkTableBody();
};

// =============================================================================
// SELECTION MANAGEMENT
// =============================================================================

const toggleItemSelection = (serial) => {
  serial = String(serial);
  if (bulkSelection.has(serial)) {
    bulkSelection.delete(serial);
  } else {
    bulkSelection.add(serial);
  }
  // When search is active, pinned rows appear/disappear — full re-render needed
  const term = (bulkSearchTerm || '').toLowerCase().trim();
  if (term) {
    renderBulkTableBody();
  } else {
    updateBulkSelectionUI();
  }
};

const selectAllItems = (select) => {
  const filtered = getFilteredItems(bulkSearchTerm);

  if (select) {
    // Select All: add only filtered (search-matched) items
    filtered.forEach(item => bulkSelection.add(String(item.serial)));
  } else {
    // Deselect All: clear everything including pinned
    bulkSelection.clear();
  }
  renderBulkTableBody();
  renderBulkFooter();
};

const updateBulkSelectionUI = () => {
  // Update count badge
  const badge = safeGetElement('bulkEditCountBadge');
  if (badge) badge.textContent = bulkSelection.size + ' selected';

  // Targeted row updates via data-serial attribute
  const wrap = safeGetElement('bulkEditTableWrap');
  if (wrap) {
    const rows = wrap.querySelectorAll('tbody tr[data-serial]');
    rows.forEach(tr => {
      const serial = tr.getAttribute('data-serial');
      const isSelected = bulkSelection.has(serial);
      const cb = tr.querySelector('input[type="checkbox"]');

      if (isSelected) {
        tr.classList.add('bulk-edit-selected');
      } else {
        tr.classList.remove('bulk-edit-selected');
      }
      if (cb) cb.checked = isSelected;
    });

    // Update master checkbox — exclude pinned rows from the calculation
    const masterCb = wrap.querySelector('thead input[type="checkbox"]');
    if (masterCb) {
      const filteredRows = wrap.querySelectorAll('tbody tr[data-serial]:not(.bulk-edit-pinned)');
      const allSelected = filteredRows.length > 0 &amp;&amp;
        Array.from(filteredRows).every(tr => bulkSelection.has(tr.getAttribute('data-serial')));
      const someSelected = !allSelected &amp;&amp;
        Array.from(filteredRows).some(tr => bulkSelection.has(tr.getAttribute('data-serial')));
      masterCb.checked = allSelected;
      masterCb.indeterminate = someSelected;
    }
  }

  renderBulkFooter();
};

// =============================================================================
// FOOTER (action buttons)
// =============================================================================

const renderBulkFooter = () => {
  const footer = safeGetElement('bulkEditFooter');
  if (!footer) return;

  while (footer.firstChild) footer.removeChild(footer.firstChild);

  const count = bulkSelection.size;
  const enabledCount = bulkEnabledFields.size;

  // Apply Changes button
  const applyBtn = document.createElement('button');
  applyBtn.type = 'button';
  applyBtn.className = 'btn btn-primary';
  applyBtn.textContent = 'Apply Changes' + (count ? ' (' + count + ')' : '');
  applyBtn.disabled = count === 0 || enabledCount === 0;
  applyBtn.title = count === 0 ? 'Select items first' : enabledCount === 0 ? 'Enable at least one field' : '';
  applyBtn.addEventListener('click', applyBulkEdit);
  footer.appendChild(applyBtn);

  // Copy Selected button
  const copyBtn = document.createElement('button');
  copyBtn.type = 'button';
  copyBtn.className = 'btn btn-secondary';
  copyBtn.textContent = 'Copy Selected' + (count ? ' (' + count + ')' : '');
  copyBtn.disabled = count === 0;
  copyBtn.addEventListener('click', copySelectedItems);
  footer.appendChild(copyBtn);

  // Delete Selected button (danger, pushed right)
  const deleteBtn = document.createElement('button');
  deleteBtn.type = 'button';
  deleteBtn.className = 'btn btn-danger';
  deleteBtn.textContent = 'Delete Selected' + (count ? ' (' + count + ')' : '');
  deleteBtn.disabled = count === 0;
  deleteBtn.addEventListener('click', deleteSelectedItems);
  footer.appendChild(deleteBtn);
};

// =============================================================================
// CONFIRM HELPER (replaces window.confirm suppressed inside modal context)
// =============================================================================

/**
 * Show an inline confirmation modal and return a Promise&lt;boolean>.
 * Resolves true on Confirm, false on Cancel or close.
 * @param {string} message
 * @returns {Promise&lt;boolean>}
 */
const showBulkConfirm = (message) => {
  return new Promise(function (resolve) {
    var modal  = document.getElementById('bulkConfirmModal');
    var msgEl  = document.getElementById('bulkConfirmMessage');
    var okBtn  = document.getElementById('bulkConfirmOkBtn');
    var canBtn = document.getElementById('bulkConfirmCancelBtn');
    if (!modal || !okBtn || !canBtn) { resolve(window.confirm(message)); return; }

    if (msgEl) msgEl.textContent = message;
    modal.style.display = 'flex';

    function cleanup(result) {
      modal.style.display = 'none';
      okBtn.removeEventListener('click', onOk);
      canBtn.removeEventListener('click', onCancel);
      resolve(result);
    }
    function onOk()     { cleanup(true); }
    function onCancel() { cleanup(false); }

    okBtn.addEventListener('click', onOk);
    canBtn.addEventListener('click', onCancel);
  });
};

// =============================================================================
// BULK ACTIONS
// =============================================================================

const applyBulkEdit = async () => {
  const count = bulkSelection.size;
  const enabledCount = bulkEnabledFields.size;
  if (count === 0 || enabledCount === 0) return;

  // Collect current field values from inputs
  const valuesToApply = {};
  bulkEnabledFields.forEach(fieldId => {
    const input = safeGetElement('bulkFieldVal_' + fieldId);
    if (input) valuesToApply[fieldId] = input.value;
  });

  if (bulkEnabledFields.has('purity') &amp;&amp; valuesToApply.purity === 'custom') {
    const purityCustomInput = safeGetElement('bulkFieldVal_purityCustom');
    const rawPurity = purityCustomInput ? purityCustomInput.value.trim() : '';
    const numericPurity = Number(rawPurity);

    if (!rawPurity || !Number.isFinite(numericPurity) || numericPurity &lt; 0.001 || numericPurity > 1) {
      if (typeof showCloudToast === 'function') showCloudToast('Please enter a custom purity between 0.001 and 1 before applying bulk changes.');
      return;
    }

    // Keep the original string; coercion logic will normalize as needed.
    valuesToApply.purity = rawPurity;
  }

  // Convert gram weight to ozt for storage (matches parseWeight in events.js)
  if (bulkEnabledFields.has('weight') &amp;&amp; valuesToApply.weight !== undefined) {
    const unitSelect = safeGetElement('bulkFieldVal_weightUnit');
    const effectiveUnit = valuesToApply.weightUnit || (unitSelect ? unitSelect.value : null);
    if (effectiveUnit === 'g') {
      const grams = parseFloat(valuesToApply.weight);
      if (!isNaN(grams)) {
        valuesToApply.weight = String(gramsToOzt(grams));
      }
    }
  }

  // When gb denomination mode is active, read weight from the denomination picker
  // (the hidden number input has stale/empty value).
  // Check both: explicit weightUnit in apply set, OR denomination picker visibly active.
  if (bulkEnabledFields.has('weight')) {
    const denomSelect = safeGetElement('bulkFieldVal_weightDenom');
    const unitSelect = safeGetElement('bulkFieldVal_weightUnit');
    const isGbMode = (valuesToApply['weightUnit'] === 'gb') ||
                     (unitSelect &amp;&amp; unitSelect.value === 'gb');
    if (isGbMode &amp;&amp; denomSelect &amp;&amp; denomSelect.style.display !== 'none') {
      valuesToApply['weight'] = denomSelect.value;
    }
  }

  const fieldNames = [...bulkEnabledFields].map(id => {
    const def = BULK_EDITABLE_FIELDS.find(f => f.id === id);
    return def ? def.label : id;
  }).join(', ');

  if (!await showBulkConfirm('Apply ' + enabledCount + ' field(s) (' + fieldNames + ') to ' + count + ' item(s)?')) {
    return;
  }

  let updated = 0;
  inventory.forEach(item => {
    if (!bulkSelection.has(String(item.serial))) return;

    // Snapshot old item for change logging
    const oldItem = Object.assign({}, item);

    // Apply each enabled field
    Object.keys(valuesToApply).forEach(fieldId => {
      item[fieldId] = coerceFieldValue(fieldId, valuesToApply[fieldId]);
    });

    // Log changes for undo support
    if (typeof logItemChanges === 'function') {
      logItemChanges(oldItem, item);
    }

    updated++;
  });

  // Record price data points for bulk-edited items with price-related changes (STACK-43)
  if (typeof recordItemPrice === 'function') {
    const priceFields = ['price', 'marketValue', 'weight', 'weightUnit', 'qty', 'metal', 'purity'];
    if ([...bulkEnabledFields].some(id => priceFields.includes(id))) {
      inventory.forEach(item => {
        if (bulkSelection.has(String(item.serial))) recordItemPrice(item, 'bulk');
      });
      saveItemPriceHistory();
    }
  }

  // Persist and re-render
  if (typeof saveInventory === 'function') saveInventory();
  if (typeof renderTable === 'function') renderTable();
  if (typeof renderActiveFilters === 'function') renderActiveFilters();

  if (typeof showCloudToast === 'function') showCloudToast('Updated ' + updated + ' item(s).');

  // Refresh bulk table to reflect changes
  renderBulkTable();
  renderBulkFooter();
};

const copySelectedItems = async () => {
  const count = bulkSelection.size;
  if (count === 0) return;

  if (!await showBulkConfirm('Copy ' + count + ' item(s)? New copies will be added to your inventory.')) {
    return;
  }

  let copied = 0;
  const serialsToProcess = [...bulkSelection];

  serialsToProcess.forEach(serial => {
    const item = inventory.find(i => String(i.serial) === serial);
    if (!item) return;

    // Deep clone
    const clone = JSON.parse(JSON.stringify(item));
    clone.serial = getNextSerial();
    clone.uuid = generateUUID();

    inventory.push(clone);

    // Record initial price data point for the copy (STACK-43)
    if (typeof recordSingleItemPrice === 'function') {
      recordSingleItemPrice(clone, 'add');
    }

    // Log the copy
    if (typeof logChange === 'function') {
      logChange(clone.name, 'Copied', 'from serial ' + serial, 'new serial ' + clone.serial, inventory.length - 1);
    }

    copied++;
  });

  if (typeof saveInventory === 'function') saveInventory();
  if (typeof renderTable === 'function') renderTable();

  if (typeof showCloudToast === 'function') showCloudToast('Copied ' + copied + ' item(s).');

  renderBulkTable();
  renderBulkFooter();
};

const deleteSelectedItems = async () => {
  const count = bulkSelection.size;
  if (count === 0) return;

  if (!await showBulkConfirm('Delete ' + count + ' item(s)? You can undo deletions from the Change Log.')) {
    return;
  }

  // Collect indices to delete (sorted descending to avoid splice shift issues)
  const indicesToDelete = [];
  inventory.forEach((item, idx) => {
    if (bulkSelection.has(String(item.serial))) {
      indicesToDelete.push(idx);
    }
  });
  indicesToDelete.sort((a, b) => b - a);

  indicesToDelete.forEach(idx => {
    const item = inventory[idx];
    if (typeof logChange === 'function') {
      logChange(item.name, 'Deleted', JSON.stringify(item), '', idx);
    }
    inventory.splice(idx, 1);
  });

  // Clear deleted serials from selection
  indicesToDelete.forEach(() => {
    // Already spliced — remove from selection by checking what's left
  });
  const remaining = new Set(inventory.map(i => String(i.serial)));
  bulkSelection.forEach(s => {
    if (!remaining.has(s)) bulkSelection.delete(s);
  });

  if (typeof saveInventory === 'function') saveInventory();
  if (typeof renderTable === 'function') renderTable();
  if (typeof renderActiveFilters === 'function') renderActiveFilters();

  if (typeof showCloudToast === 'function') showCloudToast('Deleted ' + indicesToDelete.length + ' item(s).');

  renderBulkTable();
  renderBulkFooter();
};

// =============================================================================
// NUMISTA INTEGRATION
// =============================================================================

const triggerBulkNumistaLookup = async () => {
  if (!catalogAPI || !catalogAPI.activeProvider) {
    if (typeof showCloudToast === 'function') showCloudToast('Configure Numista API key in Settings first.');
    return;
  }

  // Set our callback — fillFormFromNumistaResult checks this before normal form fill
  window._bulkEditNumistaCallback = receiveBulkNumistaResult;

  // Prompt user for search query
  const query = typeof showAppPrompt === 'function'
    ? await showAppPrompt('Enter a coin name or Numista N# to search:', '', 'Numista Lookup')
    : prompt('Enter a coin name or Numista N# to search:');
  if (!query || !query.trim()) {
    window._bulkEditNumistaCallback = null;
    return;
  }

  // Perform search
  const trimmed = query.trim();
  const isDirectLookup = /^N?\d+$/i.test(trimmed);

  (async () => {
    try {
      let results;
      if (isDirectLookup) {
        const result = await catalogAPI.lookupItem(trimmed);
        results = result ? [result] : [];
        if (typeof showNumistaResults === 'function') {
          showNumistaResults(results, true, trimmed);
        }
      } else {
        results = await catalogAPI.searchItems(trimmed, { limit: 20 });
        if (typeof showNumistaResults === 'function') {
          showNumistaResults(results, false, trimmed);
        }
      }
    } catch (error) {
      console.error('Bulk Numista search error:', error);
      if (typeof showCloudToast === 'function') showCloudToast('Numista search failed: ' + error.message);
      window._bulkEditNumistaCallback = null;
    }
  })();
};

const receiveBulkNumistaResult = (fieldMap) => {
  if (!fieldMap || typeof fieldMap !== 'object') return;

  // Populate bulk edit field inputs and enable them
  Object.keys(fieldMap).forEach(fieldId => {
    const fieldDef = BULK_EDITABLE_FIELDS.find(f => f.id === fieldId);
    if (!fieldDef) return;

    const input = safeGetElement('bulkFieldVal_' + fieldId);
    const cb = safeGetElement('bulkField_' + fieldId);
    if (!input) return;

    if (fieldId === 'purity' &amp;&amp; input.tagName === 'SELECT') {
      const optionExists = Array.from(input.options).some(option => option.value === String(fieldMap[fieldId]));
      input.value = optionExists ? String(fieldMap[fieldId]) : 'custom';
      const purityCustomInput = safeGetElement('bulkFieldVal_purityCustom');
      if (purityCustomInput &amp;&amp; !optionExists) {
        purityCustomInput.value = String(fieldMap[fieldId]);
      }
      // Enable field and check checkbox before dispatching change event
      // so syncPurityState() sees the correct disabled state
      input.disabled = false;
      bulkFieldValues[fieldId] = fieldMap[fieldId];
      bulkEnabledFields.add(fieldId);
      if (cb) cb.checked = true;
      input.dispatchEvent(new Event('change'));
    } else {
      input.value = fieldMap[fieldId];
      input.disabled = false;
      bulkFieldValues[fieldId] = fieldMap[fieldId];
      bulkEnabledFields.add(fieldId);
      if (cb) cb.checked = true;
    }
  });

  // Update footer to reflect newly enabled fields
  renderBulkFooter();

  // Clear the callback
  window._bulkEditNumistaCallback = null;
};

// =============================================================================
// IMAGE LOADING &amp; UPLOAD
// =============================================================================

/**
 * Reads tableImageSides setting and returns which sides to display.
 * @returns {{ showObv: boolean, showRev: boolean }}
 */
const _getBulkImageSides = () => {
  const sides = localStorage.getItem('tableImageSides') || 'both';
  return {
    showObv: sides === 'both' || sides === 'obverse',
    showRev: sides === 'both' || sides === 'reverse',
  };
};

/**
 * Resolves IDB images for one item and injects &lt;img> elements into its
 * IMG cell, replacing the placeholder. Respects tableImageSides setting.
 * Blob URLs are tracked in _bulkBlobUrls for cleanup on modal close.
 *
 * @param {HTMLTableRowElement} tr
 * @param {Object} item
 */
const _loadBulkRowImages = async (tr, item) => {
  const imgTd = tr.querySelector('.bulk-img-cell');
  if (!imgTd) return;

  // IDB unavailable (e.g. file:// protocol) — fall back to URL strings only
  if (!window.imageCache?.isAvailable()) {
    const { showObv, showRev } = _getBulkImageSides();
    imgTd.innerHTML = '';
    if (showObv &amp;&amp; item.obverseImageUrl) {
      const img = document.createElement('img');
      img.src = item.obverseImageUrl; img.alt = ''; img.className = 'bulk-img-thumb'; img.dataset.side = 'obverse';
      img.onerror = () => { img.style.display = 'none'; };
      imgTd.appendChild(img);
    }
    if (showRev &amp;&amp; item.reverseImageUrl) {
      const img = document.createElement('img');
      img.src = item.reverseImageUrl; img.alt = ''; img.className = 'bulk-img-thumb'; img.dataset.side = 'reverse';
      img.onerror = () => { img.style.display = 'none'; };
      imgTd.appendChild(img);
    }
    if (!imgTd.querySelector('img')) imgTd.innerHTML = '&lt;span class="bulk-img-placeholder">&lt;/span>';
    return;
  }

  const { showObv, showRev } = _getBulkImageSides();

  // Resolve best source via the same cascade inventory table uses
  const resolved = await imageCache.resolveImageForItem(item);
  if (!tr.isConnected) return;

  /**
   * Get a URL for one side from the resolved source.
   * @param {'obverse'|'reverse'} side
   * @returns {Promise&lt;string|null>}
   */
  const _getUrl = async (side) => {
    if (!resolved) {
      // Fall back to item.obverseImageUrl / item.reverseImageUrl strings
      return side === 'obverse' ? (item.obverseImageUrl || null) : (item.reverseImageUrl || null);
    }
    let url = null;
    if (resolved.source === 'user') {
      url = await imageCache.getUserImageUrl(item.uuid, side);
    } else if (resolved.source === 'pattern') {
      url = await imageCache.getPatternImageUrl(resolved.catalogId, side);
    } else if (resolved.source === 'numista') {
      url = await imageCache.getImageUrl(resolved.catalogId, side);
    }
    if (url) _bulkBlobUrls.add(url);
    return url;
  };

  const obvUrl = showObv ? await _getUrl('obverse') : null;
  const revUrl = showRev ? await _getUrl('reverse') : null;

  // Build replacement content
  imgTd.innerHTML = '';

  const _makeImg = (url, side) => {
    const img = document.createElement('img');
    img.alt = '';
    img.className = 'bulk-img-thumb';
    img.dataset.side = side;
    if (url) {
      img.src = url;
      img.onerror = () => { img.style.display = 'none'; };
    } else {
      img.style.display = 'none';
    }
    return img;
  };

  const _makePh = () => {
    const ph = document.createElement('span');
    ph.className = 'bulk-img-placeholder';
    return ph;
  };

  const hasAny = obvUrl || revUrl;

  if (showObv) imgTd.appendChild(obvUrl ? _makeImg(obvUrl, 'obverse') : _makePh());
  if (showRev &amp;&amp; (revUrl || (resolved &amp;&amp; resolved.source === 'user'))) {
    imgTd.appendChild(revUrl ? _makeImg(revUrl, 'reverse') : _makePh());
  }

  if (!hasAny) {
    // Nothing resolved — ensure at least one placeholder is visible
    if (!imgTd.querySelector('.bulk-img-placeholder')) imgTd.appendChild(_makePh());
  }
};

/**
 * Opens a small inline image-management popover anchored to the IMG cell.
 * Lets the user upload obverse/reverse photos or remove existing ones for
 * a single item. Saves directly to imageCache and refreshes that row.
 *
 * @param {HTMLTableDataCellElement} imgTd
 * @param {Object} item
 */
const _openBulkImagePopover = (imgTd, item) => {
  // Remove any existing popover first
  const existing = document.getElementById('bulkImagePopover');
  if (existing) {
    existing.remove();
    // If clicking the same cell again, just close
    if (existing.dataset.forSerial === String(item.serial)) return;
  }

  const { showObv, showRev } = _getBulkImageSides();

  const pop = document.createElement('div');
  pop.id = 'bulkImagePopover';
  pop.className = 'bulk-img-popover';
  pop.dataset.forSerial = String(item.serial);

  const _sideHtml = (key, label) => `
    &lt;div class="bulk-img-popover-side">
      &lt;span class="bulk-img-popover-label">${label}&lt;/span>
      &lt;div class="bulk-img-popover-preview" id="bulkPop${key}Preview">&lt;/div>
      &lt;div class="bulk-img-popover-actions">
        &lt;input type="file" id="bulkPop${key}File" accept="image/jpeg,image/png,image/webp" style="display:none" />
        &lt;button class="btn btn-sm" id="bulkPop${key}Upload" type="button">Upload&lt;/button>
        &lt;button class="btn btn-sm btn-danger" id="bulkPop${key}Remove" type="button" style="display:none">Remove&lt;/button>
      &lt;/div>
    &lt;/div>`;

  pop.innerHTML = `
    &lt;div class="bulk-img-popover-header">
      &lt;span class="bulk-img-popover-title">Photos&lt;/span>
      &lt;button class="bulk-img-popover-close" type="button" aria-label="Close">×&lt;/button>
    &lt;/div>
    &lt;div class="bulk-img-popover-sides">
      ${showObv ? _sideHtml('Obv', 'Obverse') : ''}
      ${showRev ? _sideHtml('Rev', 'Reverse') : ''}
    &lt;/div>
  `;

  // Position below the cell
  document.body.appendChild(pop);
  const rect = imgTd.getBoundingClientRect();
  const popW = 260;
  // position: fixed — coords are viewport-relative, no scroll offset needed
  let left = rect.left;
  if (left + popW > window.innerWidth - 8) left = window.innerWidth - popW - 8;
  let top = rect.bottom + 4;
  // Flip above cell if popover would overflow viewport bottom
  if (top + 280 > window.innerHeight) top = rect.top - 284;
  pop.style.top  = Math.max(4, top) + 'px';
  pop.style.left = Math.max(4, left) + 'px';

  // --- Close ---
  const closePopover = () => pop.remove();
  pop.querySelector('.bulk-img-popover-close').addEventListener('click', closePopover);
  const _outsideClick = (e) => {
    if (!pop.contains(e.target) &amp;&amp; e.target !== imgTd) {
      closePopover();
      document.removeEventListener('click', _outsideClick, true);
    }
  };
  setTimeout(() => document.addEventListener('click', _outsideClick, true), 10);

  // --- Load existing images into previews ---
  const _loadPreview = async (previewEl, removeBtn, side) => {
    let url = null;
    let source = null;

    if (window.imageCache?.isAvailable()) {
      const rec = await imageCache.resolveImageForItem(item);
      source = rec?.source || null;
      if (source === 'user') {
        url = await imageCache.getUserImageUrl(item.uuid, side);
      } else if (source === 'pattern') {
        url = await imageCache.getPatternImageUrl(rec.catalogId, side);
      } else if (source === 'numista') {
        url = await imageCache.getImageUrl(rec.catalogId, side);
      }
    }

    if (!url) {
      url = side === 'obverse' ? (item.obverseImageUrl || null) : (item.reverseImageUrl || null);
    }
    if (!url &amp;&amp; imgTd) {
      const rowThumb = imgTd.querySelector(`img.bulk-img-thumb[data-side="${side}"]`);
      if (rowThumb &amp;&amp; rowThumb.src) {
        url = rowThumb.src;
      }
    }

    if (url) {
      _bulkBlobUrls.add(url);
      const img = document.createElement('img');
      img.src = url;
      img.alt = side;
      img.className = 'bulk-img-popover-img';
      img.onerror = () => { img.style.display = 'none'; };
      previewEl.innerHTML = '';
      previewEl.appendChild(img);

      // "Remove" only applies to user-uploaded images stored in userImages.
      removeBtn.style.display = source === 'user' ? '' : 'none';
    } else {
      previewEl.innerHTML = '&lt;span class="thumb-popover-empty">No image&lt;/span>';
      removeBtn.style.display = 'none';
    }
  };

  const obvPreview  = pop.querySelector('#bulkPopObvPreview');
  const revPreview  = pop.querySelector('#bulkPopRevPreview');
  const obvRemove   = pop.querySelector('#bulkPopObvRemove');
  const revRemove   = pop.querySelector('#bulkPopRevRemove');

  if (showObv) _loadPreview(obvPreview, obvRemove, 'obverse');
  if (showRev) _loadPreview(revPreview, revRemove, 'reverse');

  // --- Upload handlers ---
  const _handleUpload = async (file, side) => {
    if (!file || typeof imageProcessor === 'undefined') return;
    const result = await imageProcessor.processFile(file, {
      maxDim:   typeof IMAGE_MAX_DIM   !== 'undefined' ? IMAGE_MAX_DIM   : 600,
      maxBytes: typeof IMAGE_MAX_BYTES !== 'undefined' ? IMAGE_MAX_BYTES : 512000,
    });
    if (!result?.blob) return;

    // Merge with existing (keep the other side if present)
    let obvBlob = side === 'obverse' ? result.blob : null;
    let revBlob = side === 'reverse' ? result.blob : null;
    try {
      const existing = await imageCache.getUserImage(item.uuid);
      if (existing) {
        if (!obvBlob &amp;&amp; existing.obverse) obvBlob = existing.obverse;
        if (!revBlob &amp;&amp; existing.reverse) revBlob = existing.reverse;
      }
    } catch (e) { /* ignore */ }

    if (!obvBlob &amp;&amp; revBlob) { obvBlob = revBlob; revBlob = null; }

    await imageCache.cacheUserImage(item.uuid, obvBlob, revBlob);

    // Refresh the preview in the popover
    const previewEl = side === 'obverse' ? obvPreview : revPreview;
    const removeBtn = side === 'obverse' ? obvRemove  : revRemove;
    const previewUrl = URL.createObjectURL(result.blob);
    _bulkBlobUrls.add(previewUrl);
    previewEl.innerHTML = `&lt;img src="${previewUrl}" alt="${side}" class="bulk-img-popover-img" />`;
    removeBtn.style.display = '';

    // Refresh the row thumbnail
    const tr = imgTd.closest('tr');
    if (tr) _loadBulkRowImages(tr, item);
  };

  const _wireUpload = (btnId, fileId, side) => {
    const btn  = pop.querySelector('#' + btnId);
    const file = pop.querySelector('#' + fileId);
    if (!btn || !file) return;
    btn.addEventListener('click', () => file.click());
    file.addEventListener('change', () => { if (file.files[0]) _handleUpload(file.files[0], side); });
  };

  if (showObv) _wireUpload('bulkPopObvUpload', 'bulkPopObvFile', 'obverse');
  if (showRev) _wireUpload('bulkPopRevUpload', 'bulkPopRevFile', 'reverse');

  // --- Remove handlers ---
  const _handleRemove = async (side) => {
    if (!window.imageCache?.isAvailable()) return;
    const existing = await imageCache.getUserImage(item.uuid);
    if (!existing) return;

    const keepObv = side === 'reverse' ? existing.obverse : null;
    const keepRev = side === 'obverse' ? existing.reverse : null;

    if (!keepObv &amp;&amp; !keepRev) {
      await imageCache.deleteUserImage(item.uuid);
    } else {
      const obvToSave = keepObv || keepRev;
      const revToSave = keepObv ? keepRev : null;
      await imageCache.cacheUserImage(item.uuid, obvToSave, revToSave);
    }

    const previewEl = side === 'obverse' ? obvPreview : revPreview;
    const removeBtn = side === 'obverse' ? obvRemove  : revRemove;
    previewEl.innerHTML = '&lt;span class="thumb-popover-empty">No image&lt;/span>';
    removeBtn.style.display = 'none';

    const tr = imgTd.closest('tr');
    if (tr) _loadBulkRowImages(tr, item);
  };

  if (obvRemove) obvRemove.addEventListener('click', () => _handleRemove('obverse'));
  if (revRemove) revRemove.addEventListener('click', () => _handleRemove('reverse'));
};

// =============================================================================
// WINDOW EXPORTS
// =============================================================================

window.openBulkEdit = openBulkEdit;
window.closeBulkEdit = closeBulkEdit;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CatalogAPI.html">CatalogAPI</a></li><li><a href="CatalogConfig.html">CatalogConfig</a></li><li><a href="CatalogManager.html">CatalogManager</a></li><li><a href="CatalogProvider.html">CatalogProvider</a></li><li><a href="FeatureFlags.html">FeatureFlags</a></li><li><a href="ImageCache.html">ImageCache</a></li><li><a href="ImageProcessor.html">ImageProcessor</a></li><li><a href="LocalProvider.html">LocalProvider</a></li><li><a href="NumistaCatalogProvider.html">NumistaCatalogProvider</a></li><li><a href="NumistaProvider.html">NumistaProvider</a></li></ul><h3>Global</h3><ul><li><a href="global.html#ACK_DISMISSED_KEY">ACK_DISMISSED_KEY</a></li><li><a href="global.html#API_CACHE_KEY">API_CACHE_KEY</a></li><li><a href="global.html#API_KEY_STORAGE_KEY">API_KEY_STORAGE_KEY</a></li><li><a href="global.html#API_PROVIDERS">API_PROVIDERS</a></li><li><a href="global.html#APP_VERSION">APP_VERSION</a></li><li><a href="global.html#APP_VERSION_KEY">APP_VERSION_KEY</a></li><li><a href="global.html#AUTOCOMPLETE_CONFIG">AUTOCOMPLETE_CONFIG</a></li><li><a href="global.html#BRANDING_DOMAIN_OPTIONS">BRANDING_DOMAIN_OPTIONS</a></li><li><a href="global.html#BRANDING_DOMAIN_OVERRIDE">BRANDING_DOMAIN_OVERRIDE</a></li><li><a href="global.html#BRANDING_TITLE">BRANDING_TITLE</a></li><li><a href="global.html#CARD_STYLE_KEY">CARD_STYLE_KEY</a></li><li><a href="global.html#CATALOG_HISTORY_KEY">CATALOG_HISTORY_KEY</a></li><li><a href="global.html#CATALOG_MAP_KEY">CATALOG_MAP_KEY</a></li><li><a href="global.html#CERT_LOOKUP_URLS">CERT_LOOKUP_URLS</a></li><li><a href="global.html#CLOUD_PROVIDERS">CLOUD_PROVIDERS</a></li><li><a href="global.html#DEBUG">DEBUG</a></li><li><a href="global.html#DEFAULT_API_CACHE_DURATION">DEFAULT_API_CACHE_DURATION</a></li><li><a href="global.html#DEFAULT_API_QUOTA">DEFAULT_API_QUOTA</a></li><li><a href="global.html#DEFAULT_CURRENCY">DEFAULT_CURRENCY</a></li><li><a href="global.html#DEFAULT_SORT_COL_KEY">DEFAULT_SORT_COL_KEY</a></li><li><a href="global.html#DEFAULT_SORT_DIR_KEY">DEFAULT_SORT_DIR_KEY</a></li><li><a href="global.html#DESKTOP_CARD_VIEW_KEY">DESKTOP_CARD_VIEW_KEY</a></li><li><a href="global.html#DEV_MODE">DEV_MODE</a></li><li><a href="global.html#DISPLAY_CURRENCY_KEY">DISPLAY_CURRENCY_KEY</a></li><li><a href="global.html#EXCHANGE_RATES_KEY">EXCHANGE_RATES_KEY</a></li><li><a href="global.html#EXCHANGE_RATE_API_URL">EXCHANGE_RATE_API_URL</a></li><li><a href="global.html#FALLBACK_EXCHANGE_RATES">FALLBACK_EXCHANGE_RATES</a></li><li><a href="global.html#FEATURE_FLAGS">FEATURE_FLAGS</a></li><li><a href="global.html#FEATURE_FLAGS_KEY">FEATURE_FLAGS_KEY</a></li><li><a href="global.html#FIELD_COERCIONS">FIELD_COERCIONS</a></li><li><a href="global.html#FILTER_CHIP_CATEGORY_DEFAULTS">FILTER_CHIP_CATEGORY_DEFAULTS</a></li><li><a href="global.html#GB_ESTIMATE_MODIFIER_KEY">GB_ESTIMATE_MODIFIER_KEY</a></li><li><a href="global.html#GB_ESTIMATE_PREMIUM">GB_ESTIMATE_PREMIUM</a></li><li><a href="global.html#GB_TO_OZT">GB_TO_OZT</a></li><li><a href="global.html#GITHUB_RELEASES_URL">GITHUB_RELEASES_URL</a></li><li><a href="global.html#GOLDBACK_DENOMINATIONS">GOLDBACK_DENOMINATIONS</a></li><li><a href="global.html#GOLDBACK_ENABLED_KEY">GOLDBACK_ENABLED_KEY</a></li><li><a href="global.html#GOLDBACK_ESTIMATE_ENABLED_KEY">GOLDBACK_ESTIMATE_ENABLED_KEY</a></li><li><a href="global.html#GOLDBACK_PRICES_KEY">GOLDBACK_PRICES_KEY</a></li><li><a href="global.html#GOLDBACK_PRICE_HISTORY_KEY">GOLDBACK_PRICE_HISTORY_KEY</a></li><li><a href="global.html#HEADER_SYNC_BTN_KEY">HEADER_SYNC_BTN_KEY</a></li><li><a href="global.html#HEADER_TREND_BTN_KEY">HEADER_TREND_BTN_KEY</a></li><li><a href="global.html#IMAGE_MAX_BYTES">IMAGE_MAX_BYTES</a></li><li><a href="global.html#IMAGE_MAX_DIM">IMAGE_MAX_DIM</a></li><li><a href="global.html#IMAGE_QUALITY">IMAGE_QUALITY</a></li><li><a href="global.html#INLINE_CHIP_DEFAULTS">INLINE_CHIP_DEFAULTS</a></li><li><a href="global.html#ITEMS_PER_PAGE_KEY">ITEMS_PER_PAGE_KEY</a></li><li><a href="global.html#ITEM_PRICE_HISTORY_KEY">ITEM_PRICE_HISTORY_KEY</a></li><li><a href="global.html#ITEM_TAGS_KEY">ITEM_TAGS_KEY</a></li><li><a href="global.html#LAST_API_SYNC_KEY">LAST_API_SYNC_KEY</a></li><li><a href="global.html#LAST_CACHE_REFRESH_KEY">LAST_CACHE_REFRESH_KEY</a></li><li><a href="global.html#LAST_VERSION_CHECK_KEY">LAST_VERSION_CHECK_KEY</a></li><li><a href="global.html#LATEST_REMOTE_URL_KEY">LATEST_REMOTE_URL_KEY</a></li><li><a href="global.html#LATEST_REMOTE_VERSION_KEY">LATEST_REMOTE_VERSION_KEY</a></li><li><a href="global.html#LAYOUT_SECTION_DEFAULTS">LAYOUT_SECTION_DEFAULTS</a></li><li><a href="global.html#LOG_TAB_RENDERERS">LOG_TAB_RENDERERS</a></li><li><a href="global.html#LS_KEY">LS_KEY</a></li><li><a href="global.html#MAX_LOCAL_FILE_SIZE">MAX_LOCAL_FILE_SIZE</a></li><li><a href="global.html#MAX_TAGS_PER_ITEM">MAX_TAGS_PER_ITEM</a></li><li><a href="global.html#MAX_TAG_LENGTH">MAX_TAG_LENGTH</a></li><li><a href="global.html#METALS">METALS</a></li><li><a href="global.html#METAL_COLORS">METAL_COLORS</a></li><li><a href="global.html#METAL_ORDER_KEY">METAL_ORDER_KEY</a></li><li><a href="global.html#METAL_SYMBOLS">METAL_SYMBOLS</a></li><li><a href="global.html#NUMISTA_VIEW_FIELD_DEFAULTS">NUMISTA_VIEW_FIELD_DEFAULTS</a></li><li><a href="global.html#NumistaLookup">NumistaLookup</a></li><li><a href="global.html#PREBUILT_LOOKUP_DATA">PREBUILT_LOOKUP_DATA</a></li><li><a href="global.html#PRICE_HISTORY_COLS">PRICE_HISTORY_COLS</a></li><li><a href="global.html#Remote">Remote</a></li><li><a href="global.html#SEED_CUSTOM_RULES">SEED_CUSTOM_RULES</a></li><li><a href="global.html#SEED_DATA_YEARS">SEED_DATA_YEARS</a></li><li><a href="global.html#SEED_IMAGES_VERSION">SEED_IMAGES_VERSION</a></li><li><a href="global.html#SEED_INVENTORY_ITEMS">SEED_INVENTORY_ITEMS</a></li><li><a href="global.html#SERIAL_KEY">SERIAL_KEY</a></li><li><a href="global.html#SPOT_COMPARE_MODE_KEY">SPOT_COMPARE_MODE_KEY</a></li><li><a href="global.html#SPOT_HISTORY_KEY">SPOT_HISTORY_KEY</a></li><li><a href="global.html#SPOT_TREND_KEY">SPOT_TREND_KEY</a></li><li><a href="global.html#SPOT_TREND_RANGE_KEY">SPOT_TREND_RANGE_KEY</a></li><li><a href="global.html#STORAGE_KEY_LABELS">STORAGE_KEY_LABELS</a></li><li><a href="global.html#STORAGE_TINY_THRESHOLD_KB">STORAGE_TINY_THRESHOLD_KB</a></li><li><a href="global.html#SUPPORTED_CURRENCIES">SUPPORTED_CURRENCIES</a></li><li><a href="global.html#SYNC_FILE_PATH">SYNC_FILE_PATH</a></li><li><a href="global.html#SYNC_META_PATH">SYNC_META_PATH</a></li><li><a href="global.html#SYNC_POLL_INTERVAL">SYNC_POLL_INTERVAL</a></li><li><a href="global.html#SYNC_PUSH_DEBOUNCE">SYNC_PUSH_DEBOUNCE</a></li><li><a href="global.html#SYNC_SCOPE_KEYS">SYNC_SCOPE_KEYS</a></li><li><a href="global.html#THEME_KEY">THEME_KEY</a></li><li><a href="global.html#TIMEZONE_KEY">TIMEZONE_KEY</a></li><li><a href="global.html#TREND_PRESETS">TREND_PRESETS</a></li><li><a href="global.html#VALID_TYPES">VALID_TYPES</a></li><li><a href="global.html#VAULT_FILE_EXTENSION">VAULT_FILE_EXTENSION</a></li><li><a href="global.html#VERSION_ACK_KEY">VERSION_ACK_KEY</a></li><li><a href="global.html#VERSION_CHECK_TTL">VERSION_CHECK_TTL</a></li><li><a href="global.html#VERSION_CHECK_URL">VERSION_CHECK_URL</a></li><li><a href="global.html#VIEW_METADATA_TTL">VIEW_METADATA_TTL</a></li><li><a href="global.html#VIEW_MODAL_SECTION_DEFAULTS">VIEW_MODAL_SECTION_DEFAULTS</a></li><li><a href="global.html#_VIEW_CHART_DEFAULT_RANGE">_VIEW_CHART_DEFAULT_RANGE</a></li><li><a href="global.html#_VIEW_CHART_RANGES">_VIEW_CHART_RANGES</a></li><li><a href="global.html#_VIEW_CHART_RANGE_LABELS">_VIEW_CHART_RANGE_LABELS</a></li><li><a href="global.html#__ST_COMP_PREFIX">__ST_COMP_PREFIX</a></li><li><a href="global.html#_addDetail">_addDetail</a></li><li><a href="global.html#_applyTrend">_applyTrend</a></li><li><a href="global.html#_cardChipsHTML">_cardChipsHTML</a></li><li><a href="global.html#_cardClickBound">_cardClickBound</a></li><li><a href="global.html#_cardFmt">_cardFmt</a></li><li><a href="global.html#_cardImageHTML">_cardImageHTML</a></li><li><a href="global.html#_cardMetalClass">_cardMetalClass</a></li><li><a href="global.html#_cardSortBarBound">_cardSortBarBound</a></li><li><a href="global.html#_cloudBackupWithCachedPw">_cloudBackupWithCachedPw</a></li><li><a href="global.html#_cloudBtnAction">_cloudBtnAction</a></li><li><a href="global.html#_cloudContext">_cloudContext</a></li><li><a href="global.html#_cloudRestoreWithCachedPw">_cloudRestoreWithCachedPw</a></li><li><a href="global.html#_computePortfolioSummary">_computePortfolioSummary</a></li><li><a href="global.html#_createPriceHistoryChart">_createPriceHistoryChart</a></li><li><a href="global.html#_cvBlobUrls">_cvBlobUrls</a></li><li><a href="global.html#_cvChartInstances">_cvChartInstances</a></li><li><a href="global.html#_cvEscapeAttr">_cvEscapeAttr</a></li><li><a href="global.html#_cvImageObserver">_cvImageObserver</a></li><li><a href="global.html#_darkenColor">_darkenColor</a></li><li><a href="global.html#_dataToPolylineScaled">_dataToPolylineScaled</a></li><li><a href="global.html#_deleteObverseOnSave">_deleteObverseOnSave</a></li><li><a href="global.html#_deleteReverseOnSave">_deleteReverseOnSave</a></li><li><a href="global.html#_detailItem">_detailItem</a></li><li><a href="global.html#_el">_el</a></li><li><a href="global.html#_enhanceCardImages">_enhanceCardImages</a></li><li><a href="global.html#_enhanceTableThumbnails">_enhanceTableThumbnails</a></li><li><a href="global.html#_extractMetadata">_extractMetadata</a></li><li><a href="global.html#_fetchHistoricalSpotData">_fetchHistoricalSpotData</a></li><li><a href="global.html#_fetchNumistaResult">_fetchNumistaResult</a></li><li><a href="global.html#_fetchYearFile">_fetchYearFile</a></li><li><a href="global.html#_getBulkImageSides">_getBulkImageSides</a></li><li><a href="global.html#_getOrCreateHScrollBar">_getOrCreateHScrollBar</a></li><li><a href="global.html#_getThumbPlaceholder">_getThumbPlaceholder</a></li><li><a href="global.html#_getViewMetrics">_getViewMetrics</a></li><li><a href="global.html#_hScrollWired">_hScrollWired</a></li><li><a href="global.html#_imageSlot">_imageSlot</a></li><li><a href="global.html#_initCardCharts">_initCardCharts</a></li><li><a href="global.html#_initSpotControls">_initSpotControls</a></li><li><a href="global.html#_interpolateNulls">_interpolateNulls</a></li><li><a href="global.html#_isLightColor">_isLightColor</a></li><li><a href="global.html#_itemPriceModalFilterText">_itemPriceModalFilterText</a></li><li><a href="global.html#_itemPriceModalUuid">_itemPriceModalUuid</a></li><li><a href="global.html#_loadBulkRowImages">_loadBulkRowImages</a></li><li><a href="global.html#_loadCardImage">_loadCardImage</a></li><li><a href="global.html#_loadSectionConfig">_loadSectionConfig</a></li><li><a href="global.html#_loadThumbImage">_loadThumbImage</a></li><li><a href="global.html#_normalizePatterns">_normalizePatterns</a></li><li><a href="global.html#_openBulkImagePopover">_openBulkImagePopover</a></li><li><a href="global.html#_openExternalPopup">_openExternalPopup</a></li><li><a href="global.html#_openThumbPopover">_openThumbPopover</a></li><li><a href="global.html#_parseColor">_parseColor</a></li><li><a href="global.html#_patternMode">_patternMode</a></li><li><a href="global.html#_pendingObverseBlob">_pendingObverseBlob</a></li><li><a href="global.html#_pendingObversePreviewUrl">_pendingObversePreviewUrl</a></li><li><a href="global.html#_pendingReverseBlob">_pendingReverseBlob</a></li><li><a href="global.html#_pendingReversePreviewUrl">_pendingReversePreviewUrl</a></li><li><a href="global.html#_renderSectionConfigTable">_renderSectionConfigTable</a></li><li><a href="global.html#_renderSortBarSummary">_renderSortBarSummary</a></li><li><a href="global.html#_restoreCdnFolderFromZip">_restoreCdnFolderFromZip</a></li><li><a href="global.html#_saveSectionConfig">_saveSectionConfig</a></li><li><a href="global.html#_schedulePoll">_schedulePoll</a></li><li><a href="global.html#_section">_section</a></li><li><a href="global.html#_setSlotImage">_setSlotImage</a></li><li><a href="global.html#_showCardImage">_showCardImage</a></li><li><a href="global.html#_statusCells">_statusCells</a></li><li><a href="global.html#_storageTinyVisible">_storageTinyVisible</a></li><li><a href="global.html#_storedSortCol">_storedSortCol</a></li><li><a href="global.html#_syncFallbackUUID">_syncFallbackUUID</a></li><li><a href="global.html#_syncHScrollBar">_syncHScrollBar</a></li><li><a href="global.html#_syncPollerTimer">_syncPollerTimer</a></li><li><a href="global.html#_syncProvider">_syncProvider</a></li><li><a href="global.html#_syncPushInFlight">_syncPushInFlight</a></li><li><a href="global.html#_syncRelativeTime">_syncRelativeTime</a></li><li><a href="global.html#_syncRetryDelay">_syncRetryDelay</a></li><li><a href="global.html#_syncSortBar">_syncSortBar</a></li><li><a href="global.html#_thumbBlobUrls">_thumbBlobUrls</a></li><li><a href="global.html#_thumbObserver">_thumbObserver</a></li><li><a href="global.html#_updateHScrollThumb">_updateHScrollThumb</a></li><li><a href="global.html#_vaultPendingFile">_vaultPendingFile</a></li><li><a href="global.html#_viewModalChartInstance">_viewModalChartInstance</a></li><li><a href="global.html#_viewModalObjectUrls">_viewModalObjectUrls</a></li><li><a href="global.html#_viewYearCache">_viewYearCache</a></li><li><a href="global.html#_viewYearFetchPromises">_viewYearFetchPromises</a></li><li><a href="global.html#acceptAck">acceptAck</a></li><li><a href="global.html#activeFilters">activeFilters</a></li><li><a href="global.html#addCompositionOption">addCompositionOption</a></li><li><a href="global.html#addItemTag">addItemTag</a></li><li><a href="global.html#analyzeStorageData">analyzeStorageData</a></li><li><a href="global.html#analyzeStorageItem">analyzeStorageItem</a></li><li><a href="global.html#apiCache">apiCache</a></li><li><a href="global.html#apiConfig">apiConfig</a></li><li><a href="global.html#apiHistoryEntries">apiHistoryEntries</a></li><li><a href="global.html#apiHistoryFilterText">apiHistoryFilterText</a></li><li><a href="global.html#apiHistorySortAsc">apiHistorySortAsc</a></li><li><a href="global.html#apiHistorySortColumn">apiHistorySortColumn</a></li><li><a href="global.html#applyColumnFilter">applyColumnFilter</a></li><li><a href="global.html#applyHeaderToggleVisibility">applyHeaderToggleVisibility</a></li><li><a href="global.html#applyLayoutOrder">applyLayoutOrder</a></li><li><a href="global.html#applyMetalOrder">applyMetalOrder</a></li><li><a href="global.html#applyMinCountThreshold">applyMinCountThreshold</a></li><li><a href="global.html#applyNumistaTags">applyNumistaTags</a></li><li><a href="global.html#applyQuickFilter">applyQuickFilter</a></li><li><a href="global.html#attachAutocomplete">attachAutocomplete</a></li><li><a href="global.html#attachPriceHistorySortHeaders">attachPriceHistorySortHeaders</a></li><li><a href="global.html#autoSelectDefaultProvider">autoSelectDefaultProvider</a></li><li><a href="global.html#autoSyncSpotPrices">autoSyncSpotPrices</a></li><li><a href="global.html#backfillStaktrakrHourly">backfillStaktrakrHourly</a></li><li><a href="global.html#bindAppearanceAndHeaderListeners">bindAppearanceAndHeaderListeners</a></li><li><a href="global.html#bindCardAndTableImageListeners">bindCardAndTableImageListeners</a></li><li><a href="global.html#bindCardClickHandler">bindCardClickHandler</a></li><li><a href="global.html#bindCloudCacheListeners">bindCloudCacheListeners</a></li><li><a href="global.html#bindFilterAndNumistaListeners">bindFilterAndNumistaListeners</a></li><li><a href="global.html#bindGoldbackActionListeners">bindGoldbackActionListeners</a></li><li><a href="global.html#bindGoldbackToggleListeners">bindGoldbackToggleListeners</a></li><li><a href="global.html#bindImageImportExportListeners">bindImageImportExportListeners</a></li><li><a href="global.html#bindImageSettingsListeners">bindImageSettingsListeners</a></li><li><a href="global.html#bindImageSyncListeners">bindImageSyncListeners</a></li><li><a href="global.html#bindLbmaHistoryControls">bindLbmaHistoryControls</a></li><li><a href="global.html#bindNumistaBulkSyncListeners">bindNumistaBulkSyncListeners</a></li><li><a href="global.html#bindPatternRuleModeListeners">bindPatternRuleModeListeners</a></li><li><a href="global.html#bindSettingsModalShellListeners">bindSettingsModalShellListeners</a></li><li><a href="global.html#bindSettingsNavigationListeners">bindSettingsNavigationListeners</a></li><li><a href="global.html#bindStorageListeners">bindStorageListeners</a></li><li><a href="global.html#blobToWebP">blobToWebP</a></li><li><a href="global.html#brandingWarned">brandingWarned</a></li><li><a href="global.html#buildBulkItemRow">buildBulkItemRow</a></li><li><a href="global.html#buildImageExportZip">buildImageExportZip</a></li><li><a href="global.html#buildItemFields">buildItemFields</a></li><li><a href="global.html#buildNumistaSearchQuery">buildNumistaSearchQuery</a></li><li><a href="global.html#buildSearchIndices">buildSearchIndices</a></li><li><a href="global.html#buildTagSection">buildTagSection</a></li><li><a href="global.html#buildViewContent">buildViewContent</a></li><li><a href="global.html#cacheLookupTable">cacheLookupTable</a></li><li><a href="global.html#calculateApiUsage">calculateApiUsage</a></li><li><a href="global.html#calculateLevenshteinDistance">calculateLevenshteinDistance</a></li><li><a href="global.html#calculateRetailPrice">calculateRetailPrice</a></li><li><a href="global.html#catalogHistory">catalogHistory</a></li><li><a href="global.html#catalogMap">catalogMap</a></li><li><a href="global.html#changeLog">changeLog</a></li><li><a href="global.html#chartInstances">chartInstances</a></li><li><a href="global.html#checkFileSize">checkFileSize</a></li><li><a href="global.html#checkRemoteVersion">checkRemoteVersion</a></li><li><a href="global.html#checkVersionChange">checkVersionChange</a></li><li><a href="global.html#cleanOrphanedItemPriceHistory">cleanOrphanedItemPriceHistory</a></li><li><a href="global.html#cleanSearchTerm">cleanSearchTerm</a></li><li><a href="global.html#cleanString">cleanString</a></li><li><a href="global.html#cleanupStorage">cleanupStorage</a></li><li><a href="global.html#clearAllCachedData">clearAllCachedData</a></li><li><a href="global.html#clearAllFilters">clearAllFilters</a></li><li><a href="global.html#clearApiCache">clearApiCache</a></li><li><a href="global.html#clearApiConfig">clearApiConfig</a></li><li><a href="global.html#clearApiHistory">clearApiHistory</a></li><li><a href="global.html#clearApiKey">clearApiKey</a></li><li><a href="global.html#clearCatalogHistory">clearCatalogHistory</a></li><li><a href="global.html#clearChangeLog">clearChangeLog</a></li><li><a href="global.html#clearItemPriceHistory">clearItemPriceHistory</a></li><li><a href="global.html#clearLookupCache">clearLookupCache</a></li><li><a href="global.html#clearSpotHistory">clearSpotHistory</a></li><li><a href="global.html#clearUploadState">clearUploadState</a></li><li><a href="global.html#closeCurrencyDropdown">closeCurrencyDropdown</a></li><li><a href="global.html#closeCurrencyDropdownOnOutside">closeCurrencyDropdownOnOutside</a></li><li><a href="global.html#closeDetailsModal">closeDetailsModal</a></li><li><a href="global.html#closeModalById">closeModalById</a></li><li><a href="global.html#closeNumistaResultsModal">closeNumistaResultsModal</a></li><li><a href="global.html#closePcgsFieldPicker">closePcgsFieldPicker</a></li><li><a href="global.html#closeSpotLookupModal">closeSpotLookupModal</a></li><li><a href="global.html#closeVaultModal">closeVaultModal</a></li><li><a href="global.html#closeViewModal">closeViewModal</a></li><li><a href="global.html#cloudBackupEnabled">cloudBackupEnabled</a></li><li><a href="global.html#coerceFieldValue">coerceFieldValue</a></li><li><a href="global.html#collectVaultData">collectVaultData</a></li><li><a href="global.html#commitItemToInventory">commitItemToInventory</a></li><li><a href="global.html#compareVersions">compareVersions</a></li><li><a href="global.html#compositionOptions">compositionOptions</a></li><li><a href="global.html#computeGoldbackEstimatedRate">computeGoldbackEstimatedRate</a></li><li><a href="global.html#computeItemValuation">computeItemValuation</a></li><li><a href="global.html#computeMeltValue">computeMeltValue</a></li><li><a href="global.html#convertToUsd">convertToUsd</a></li><li><a href="global.html#createBackupData">createBackupData</a></li><li><a href="global.html#createBackupZip">createBackupZip</a></li><li><a href="global.html#createBreakdownElements">createBreakdownElements</a></li><li><a href="global.html#createDummyElement">createDummyElement</a></li><li><a href="global.html#createEmptyLookupTable">createEmptyLookupTable</a></li><li><a href="global.html#createFieldInput">createFieldInput</a></li><li><a href="global.html#createPieChart">createPieChart</a></li><li><a href="global.html#createStorageItemModal">createStorageItemModal</a></li><li><a href="global.html#createThumbEl">createThumbEl</a></li><li><a href="global.html#currentLookupTable">currentLookupTable</a></li><li><a href="global.html#currentMonthKey">currentMonthKey</a></li><li><a href="global.html#cycleSpotTrend">cycleSpotTrend</a></li><li><a href="global.html#dataToPolyline">dataToPolyline</a></li><li><a href="global.html#dataUriToBlob">dataUriToBlob</a></li><li><a href="global.html#debounce">debounce</a></li><li><a href="global.html#debugError">debugError</a></li><li><a href="global.html#debugLog">debugLog</a></li><li><a href="global.html#debugWarn">debugWarn</a></li><li><a href="global.html#deleteItem">deleteItem</a></li><li><a href="global.html#deleteItemPriceEntry">deleteItemPriceEntry</a></li><li><a href="global.html#deleteItemTags">deleteItemTags</a></li><li><a href="global.html#deleteTagGlobal">deleteTagGlobal</a></li><li><a href="global.html#deriveSearchLabel">deriveSearchLabel</a></li><li><a href="global.html#destroyCharts">destroyCharts</a></li><li><a href="global.html#destroySparklines">destroySparklines</a></li><li><a href="global.html#detailsChartMetric">detailsChartMetric</a></li><li><a href="global.html#detailsResizeObserver">detailsResizeObserver</a></li><li><a href="global.html#detectCurrency">detectCurrency</a></li><li><a href="global.html#disableCloudSync">disableCloudSync</a></li><li><a href="global.html#dismissAllAutocompletes">dismissAllAutocompletes</a></li><li><a href="global.html#dismissNotesModal">dismissNotesModal</a></li><li><a href="global.html#displayCurrency">displayCurrency</a></li><li><a href="global.html#downloadCompleteBackup">downloadCompleteBackup</a></li><li><a href="global.html#downloadFile">downloadFile</a></li><li><a href="global.html#downloadStorageReport">downloadStorageReport</a></li><li><a href="global.html#duplicateItem">duplicateItem</a></li><li><a href="global.html#editItem">editItem</a></li><li><a href="global.html#editingChangeLogIndex">editingChangeLogIndex</a></li><li><a href="global.html#editingIndex">editingIndex</a></li><li><a href="global.html#elements">elements</a></li><li><a href="global.html#enableCloudSync">enableCloudSync</a></li><li><a href="global.html#escapeAttribute">escapeAttribute</a></li><li><a href="global.html#escapeHtml">escapeHtml</a></li><li><a href="global.html#escapeHtmlCatalog">escapeHtmlCatalog</a></li><li><a href="global.html#escapeHtmlPcgs">escapeHtmlPcgs</a></li><li><a href="global.html#exchangeRates">exchangeRates</a></li><li><a href="global.html#exportCsv">exportCsv</a></li><li><a href="global.html#exportEncryptedBackup">exportEncryptedBackup</a></li><li><a href="global.html#exportGoldbackHistory">exportGoldbackHistory</a></li><li><a href="global.html#exportJson">exportJson</a></li><li><a href="global.html#exportNumistaCsv">exportNumistaCsv</a></li><li><a href="global.html#exportPdf">exportPdf</a></li><li><a href="global.html#exportSpotHistory">exportSpotHistory</a></li><li><a href="global.html#extractUniqueValues">extractUniqueValues</a></li><li><a href="global.html#featureFlags">featureFlags</a></li><li><a href="global.html#fetchBatchSpotPrices">fetchBatchSpotPrices</a></li><li><a href="global.html#fetchExchangeRates">fetchExchangeRates</a></li><li><a href="global.html#fetchHistoryBatched">fetchHistoryBatched</a></li><li><a href="global.html#fetchLatestPrices">fetchLatestPrices</a></li><li><a href="global.html#fetchMetalPriceApiHourly">fetchMetalPriceApiHourly</a></li><li><a href="global.html#fetchSpotForDate">fetchSpotForDate</a></li><li><a href="global.html#fetchSpotPrice">fetchSpotPrice</a></li><li><a href="global.html#fetchSpotPricesFromApi">fetchSpotPricesFromApi</a></li><li><a href="global.html#fetchStaktrakrHourlyRange">fetchStaktrakrHourlyRange</a></li><li><a href="global.html#fetchStaktrakrPrices">fetchStaktrakrPrices</a></li><li><a href="global.html#fetchYearFile">fetchYearFile</a></li><li><a href="global.html#fillFormFromNumistaResult">fillFormFromNumistaResult</a></li><li><a href="global.html#fillFormFromPcgsResult">fillFormFromPcgsResult</a></li><li><a href="global.html#filterInventory">filterInventory</a></li><li><a href="global.html#filterInventoryAdvanced">filterInventoryAdvanced</a></li><li><a href="global.html#filterItemPriceHistoryTable">filterItemPriceHistoryTable</a></li><li><a href="global.html#flattenGoldbackHistory">flattenGoldbackHistory</a></li><li><a href="global.html#formatCurrency">formatCurrency</a></li><li><a href="global.html#formatDateOnly">formatDateOnly</a></li><li><a href="global.html#formatDisplayDate">formatDisplayDate</a></li><li><a href="global.html#formatFileSize">formatFileSize</a></li><li><a href="global.html#formatLossProfit">formatLossProfit</a></li><li><a href="global.html#formatOffsetLabel">formatOffsetLabel</a></li><li><a href="global.html#formatPurchaseLocation">formatPurchaseLocation</a></li><li><a href="global.html#formatStorageLocation">formatStorageLocation</a></li><li><a href="global.html#formatTimeOnly">formatTimeOnly</a></li><li><a href="global.html#formatTimestamp">formatTimestamp</a></li><li><a href="global.html#formatWeight">formatWeight</a></li><li><a href="global.html#fuzzyMatch">fuzzyMatch</a></li><li><a href="global.html#fuzzySearch">fuzzySearch</a></li><li><a href="global.html#gbHistoryFilterText">gbHistoryFilterText</a></li><li><a href="global.html#gbHistorySortAsc">gbHistorySortAsc</a></li><li><a href="global.html#gbHistorySortColumn">gbHistorySortColumn</a></li><li><a href="global.html#generateBackupHtml">generateBackupHtml</a></li><li><a href="global.html#generateCategorySummary">generateCategorySummary</a></li><li><a href="global.html#generateColors">generateColors</a></li><li><a href="global.html#generateItemDataTable">generateItemDataTable</a></li><li><a href="global.html#generateLookupTable">generateLookupTable</a></li><li><a href="global.html#generateNGrams">generateNGrams</a></li><li><a href="global.html#generateReadmeContent">generateReadmeContent</a></li><li><a href="global.html#generateSparklineSVG">generateSparklineSVG</a></li><li><a href="global.html#generateStorageReport">generateStorageReport</a></li><li><a href="global.html#generateStorageReportHTML">generateStorageReportHTML</a></li><li><a href="global.html#generateStorageReportTar">generateStorageReportTar</a></li><li><a href="global.html#generateUUID">generateUUID</a></li><li><a href="global.html#generateVariations">generateVariations</a></li><li><a href="global.html#get24hChange">get24hChange</a></li><li><a href="global.html#getAllMetalsBreakdownData">getAllMetalsBreakdownData</a></li><li><a href="global.html#getAllUniqueTags">getAllUniqueTags</a></li><li><a href="global.html#getApiAvailability">getApiAvailability</a></li><li><a href="global.html#getAppTitle">getAppTitle</a></li><li><a href="global.html#getBreakdownData">getBreakdownData</a></li><li><a href="global.html#getCacheDurationMs">getCacheDurationMs</a></li><li><a href="global.html#getCachedLookupTable">getCachedLookupTable</a></li><li><a href="global.html#getCardStyle">getCardStyle</a></li><li><a href="global.html#getChartBackgroundColor">getChartBackgroundColor</a></li><li><a href="global.html#getChartColor">getChartColor</a></li><li><a href="global.html#getChartTextColor">getChartTextColor</a></li><li><a href="global.html#getChipColors">getChipColors</a></li><li><a href="global.html#getCompositionFirstWords">getCompositionFirstWords</a></li><li><a href="global.html#getContrastColor">getContrastColor</a></li><li><a href="global.html#getCryptoBackend">getCryptoBackend</a></li><li><a href="global.html#getCurrencySymbol">getCurrencySymbol</a></li><li><a href="global.html#getDateChunks">getDateChunks</a></li><li><a href="global.html#getDebugHistory">getDebugHistory</a></li><li><a href="global.html#getDefaultSyncMode">getDefaultSyncMode</a></li><li><a href="global.html#getDisplayComposition">getDisplayComposition</a></li><li><a href="global.html#getEmbeddedRoadmap">getEmbeddedRoadmap</a></li><li><a href="global.html#getEmbeddedSeedData">getEmbeddedSeedData</a></li><li><a href="global.html#getEmbeddedWhatsNew">getEmbeddedWhatsNew</a></li><li><a href="global.html#getExchangeRate">getExchangeRate</a></li><li><a href="global.html#getExistingElement">getExistingElement</a></li><li><a href="global.html#getFilterChipCategoryConfig">getFilterChipCategoryConfig</a></li><li><a href="global.html#getFooterDomain">getFooterDomain</a></li><li><a href="global.html#getGoldbackDenominationPrice">getGoldbackDenominationPrice</a></li><li><a href="global.html#getGoldbackRetailPrice">getGoldbackRetailPrice</a></li><li><a href="global.html#getHistoricalSparklineData">getHistoricalSparklineData</a></li><li><a href="global.html#getInlineChipConfig">getInlineChipConfig</a></li><li><a href="global.html#getItemTags">getItemTags</a></li><li><a href="global.html#getLastProviderSyncTime">getLastProviderSyncTime</a></li><li><a href="global.html#getLastUpdateTime">getLastUpdateTime</a></li><li><a href="global.html#getLayoutSectionConfig">getLayoutSectionConfig</a></li><li><a href="global.html#getLbmaReferenceYears">getLbmaReferenceYears</a></li><li><a href="global.html#getLookupStats">getLookupStats</a></li><li><a href="global.html#getMetalColor">getMetalColor</a></li><li><a href="global.html#getMetalOrderConfig">getMetalOrderConfig</a></li><li><a href="global.html#getNumistaViewFieldConfig">getNumistaViewFieldConfig</a></li><li><a href="global.html#getPasswordStrength">getPasswordStrength</a></li><li><a href="global.html#getPopularNumistaItems">getPopularNumistaItems</a></li><li><a href="global.html#getProviderOrder">getProviderOrder</a></li><li><a href="global.html#getRequiredYears">getRequiredYears</a></li><li><a href="global.html#getSparklineData">getSparklineData</a></li><li><a href="global.html#getSpotHistoryForMetal">getSpotHistoryForMetal</a></li><li><a href="global.html#getStorageItemDescription">getStorageItemDescription</a></li><li><a href="global.html#getStorageItemDisplayName">getStorageItemDisplayName</a></li><li><a href="global.html#getStorageReportCSS">getStorageReportCSS</a></li><li><a href="global.html#getStorageReportJS">getStorageReportJS</a></li><li><a href="global.html#getSyncDeviceId">getSyncDeviceId</a></li><li><a href="global.html#getSyncPassword">getSyncPassword</a></li><li><a href="global.html#getTemplateVariables">getTemplateVariables</a></li><li><a href="global.html#getUserFriendlyMessage">getUserFriendlyMessage</a></li><li><a href="global.html#getVersionString">getVersionString</a></li><li><a href="global.html#getViewModalSectionConfig">getViewModalSectionConfig</a></li><li><a href="global.html#goldbackEnabled">goldbackEnabled</a></li><li><a href="global.html#goldbackEstimateEnabled">goldbackEstimateEnabled</a></li><li><a href="global.html#goldbackEstimateModifier">goldbackEstimateModifier</a></li><li><a href="global.html#goldbackPriceHistory">goldbackPriceHistory</a></li><li><a href="global.html#goldbackPrices">goldbackPrices</a></li><li><a href="global.html#gramsToOzt">gramsToOzt</a></li><li><a href="global.html#handleError">handleError</a></li><li><a href="global.html#handleHistoryPull">handleHistoryPull</a></li><li><a href="global.html#handleImageDeletion">handleImageDeletion</a></li><li><a href="global.html#handleProviderSave">handleProviderSave</a></li><li><a href="global.html#handleProviderSync">handleProviderSync</a></li><li><a href="global.html#handleRemoteChange">handleRemoteChange</a></li><li><a href="global.html#handleSaveSearchPattern">handleSaveSearchPattern</a></li><li><a href="global.html#handleStaktrakrHistoryPull">handleStaktrakrHistoryPull</a></li><li><a href="global.html#handleVaultAction">handleVaultAction</a></li><li><a href="global.html#hideAboutModal">hideAboutModal</a></li><li><a href="global.html#hideAckModal">hideAckModal</a></li><li><a href="global.html#hideApiHistoryModal">hideApiHistoryModal</a></li><li><a href="global.html#hideApiModal">hideApiModal</a></li><li><a href="global.html#hideApiProvidersModal">hideApiProvidersModal</a></li><li><a href="global.html#hideCatalogHistoryModal">hideCatalogHistoryModal</a></li><li><a href="global.html#hideDebugModal">hideDebugModal</a></li><li><a href="global.html#hideEmptyColumns">hideEmptyColumns</a></li><li><a href="global.html#hideFilesModal">hideFilesModal</a></li><li><a href="global.html#hideGoldbackHistoryModal">hideGoldbackHistoryModal</a></li><li><a href="global.html#hideManualInput">hideManualInput</a></li><li><a href="global.html#hideProviderInfo">hideProviderInfo</a></li><li><a href="global.html#hideSettingsModal">hideSettingsModal</a></li><li><a href="global.html#historicalDataCache">historicalDataCache</a></li><li><a href="global.html#historicalFetchPromises">historicalFetchPromises</a></li><li><a href="global.html#importCsv">importCsv</a></li><li><a href="global.html#importEncryptedBackup">importEncryptedBackup</a></li><li><a href="global.html#importJson">importJson</a></li><li><a href="global.html#importNumistaCsv">importNumistaCsv</a></li><li><a href="global.html#importSpotHistory">importSpotHistory</a></li><li><a href="global.html#initCardSortBar">initCardSortBar</a></li><li><a href="global.html#initCloudSync">initCloudSync</a></li><li><a href="global.html#initSpotHistoryButtons">initSpotHistoryButtons</a></li><li><a href="global.html#initTheme">initTheme</a></li><li><a href="global.html#initializeAutocomplete">initializeAutocomplete</a></li><li><a href="global.html#injectVersionString">injectVersionString</a></li><li><a href="global.html#inventory">inventory</a></li><li><a href="global.html#isCardViewActive">isCardViewActive</a></li><li><a href="global.html#isFeatureEnabled">isFeatureEnabled</a></li><li><a href="global.html#isGoldbackPricingActive">isGoldbackPricingActive</a></li><li><a href="global.html#isValidSelectOption">isValidSelectOption</a></li><li><a href="global.html#itemPriceHistory">itemPriceHistory</a></li><li><a href="global.html#itemTags">itemTags</a></li><li><a href="global.html#itemsPerPage">itemsPerPage</a></li><li><a href="global.html#loadAnnouncements">loadAnnouncements</a></li><li><a href="global.html#loadApiCache">loadApiCache</a></li><li><a href="global.html#loadApiConfig">loadApiConfig</a></li><li><a href="global.html#loadCatalogHistory">loadCatalogHistory</a></li><li><a href="global.html#loadData">loadData</a></li><li><a href="global.html#loadDisplayCurrency">loadDisplayCurrency</a></li><li><a href="global.html#loadExchangeRates">loadExchangeRates</a></li><li><a href="global.html#loadGoldbackEnabled">loadGoldbackEnabled</a></li><li><a href="global.html#loadGoldbackEstimateEnabled">loadGoldbackEstimateEnabled</a></li><li><a href="global.html#loadGoldbackEstimateModifier">loadGoldbackEstimateModifier</a></li><li><a href="global.html#loadGoldbackPriceHistory">loadGoldbackPriceHistory</a></li><li><a href="global.html#loadGoldbackPrices">loadGoldbackPrices</a></li><li><a href="global.html#loadInventory">loadInventory</a></li><li><a href="global.html#loadItemPriceHistory">loadItemPriceHistory</a></li><li><a href="global.html#loadItemTags">loadItemTags</a></li><li><a href="global.html#loadLbmaReferenceEntries">loadLbmaReferenceEntries</a></li><li><a href="global.html#loadLookupTable">loadLookupTable</a></li><li><a href="global.html#loadProviderPriorities">loadProviderPriorities</a></li><li><a href="global.html#loadSeedImages">loadSeedImages</a></li><li><a href="global.html#loadSeedInventory">loadSeedInventory</a></li><li><a href="global.html#loadSeedSpotHistory">loadSeedSpotHistory</a></li><li><a href="global.html#loadSpotHistory">loadSpotHistory</a></li><li><a href="global.html#loadTrendRanges">loadTrendRanges</a></li><li><a href="global.html#loadViewImages">loadViewImages</a></li><li><a href="global.html#loadViewNumistaData">loadViewNumistaData</a></li><li><a href="global.html#logChange">logChange</a></li><li><a href="global.html#logItemChanges">logItemChanges</a></li><li><a href="global.html#logSyncActivity">logSyncActivity</a></li><li><a href="global.html#lookupPcgsByNumber">lookupPcgsByNumber</a></li><li><a href="global.html#lookupPcgsFromForm">lookupPcgsFromForm</a></li><li><a href="global.html#mapNumistaType">mapNumistaType</a></li><li><a href="global.html#marketValueViewItems">marketValueViewItems</a></li><li><a href="global.html#matchCoinSeries">matchCoinSeries</a></li><li><a href="global.html#mergeItemPriceHistory">mergeItemPriceHistory</a></li><li><a href="global.html#migrateHourlySource">migrateHourlySource</a></li><li><a href="global.html#migrateLayoutVisibility">migrateLayoutVisibility</a></li><li><a href="global.html#migrateProviderPriority">migrateProviderPriority</a></li><li><a href="global.html#monitorPerformance">monitorPerformance</a></li><li><a href="global.html#normalizeItemName">normalizeItemName</a></li><li><a href="global.html#normalizeString">normalizeString</a></li><li><a href="global.html#normalizeType">normalizeType</a></li><li><a href="global.html#notesIndex">notesIndex</a></li><li><a href="global.html#onGoldSpotPriceChanged">onGoldSpotPriceChanged</a></li><li><a href="global.html#openEbaySearch">openEbaySearch</a></li><li><a href="global.html#openItemPriceHistoryModal">openItemPriceHistoryModal</a></li><li><a href="global.html#openModalById">openModalById</a></li><li><a href="global.html#openNumistaModal">openNumistaModal</a></li><li><a href="global.html#openSpotLookupModal">openSpotLookupModal</a></li><li><a href="global.html#openStorageReportPopup">openStorageReportPopup</a></li><li><a href="global.html#openVaultModal">openVaultModal</a></li><li><a href="global.html#optimizeStoragePhase1C">optimizeStoragePhase1C</a></li><li><a href="global.html#optionalListener">optionalListener</a></li><li><a href="global.html#oztToGrams">oztToGrams</a></li><li><a href="global.html#pad2">pad2</a></li><li><a href="global.html#parseDate">parseDate</a></li><li><a href="global.html#parseFraction">parseFraction</a></li><li><a href="global.html#parseItemFormFields">parseItemFormFields</a></li><li><a href="global.html#parseNumistaMetal">parseNumistaMetal</a></li><li><a href="global.html#parsePcgsResponse">parsePcgsResponse</a></li><li><a href="global.html#parsePriceToUSD">parsePriceToUSD</a></li><li><a href="global.html#parsePurity">parsePurity</a></li><li><a href="global.html#parseSearchPatterns">parseSearchPatterns</a></li><li><a href="global.html#parseVaultFile">parseVaultFile</a></li><li><a href="global.html#parseWeight">parseWeight</a></li><li><a href="global.html#pcgsFetch">pcgsFetch</a></li><li><a href="global.html#pcgsPreflightCheck">pcgsPreflightCheck</a></li><li><a href="global.html#persistInventoryAndRefresh">persistInventoryAndRefresh</a></li><li><a href="global.html#pollForRemoteChanges">pollForRemoteChanges</a></li><li><a href="global.html#populateAboutModal">populateAboutModal</a></li><li><a href="global.html#populateAckModal">populateAckModal</a></li><li><a href="global.html#populateApiSection">populateApiSection</a></li><li><a href="global.html#populateImagesSection">populateImagesSection</a></li><li><a href="global.html#populateVersionModal">populateVersionModal</a></li><li><a href="global.html#preparePriceHistoryRows">preparePriceHistoryRows</a></li><li><a href="global.html#priceHistoryFilterText">priceHistoryFilterText</a></li><li><a href="global.html#processUploadedImage">processUploadedImage</a></li><li><a href="global.html#providerRequiresKey">providerRequiresKey</a></li><li><a href="global.html#pullSyncVault">pullSyncVault</a></li><li><a href="global.html#purgeCatalogHistory">purgeCatalogHistory</a></li><li><a href="global.html#purgeItemPriceHistory">purgeItemPriceHistory</a></li><li><a href="global.html#purgeSpotHistory">purgeSpotHistory</a></li><li><a href="global.html#pushSyncVault">pushSyncVault</a></li><li><a href="global.html#recalcItem">recalcItem</a></li><li><a href="global.html#recordAllItemPriceSnapshots">recordAllItemPriceSnapshots</a></li><li><a href="global.html#recordCatalogHistory">recordCatalogHistory</a></li><li><a href="global.html#recordGoldbackPrices">recordGoldbackPrices</a></li><li><a href="global.html#recordItemPrice">recordItemPrice</a></li><li><a href="global.html#recordSingleItemPrice">recordSingleItemPrice</a></li><li><a href="global.html#recordSpot">recordSpot</a></li><li><a href="global.html#refreshCompositionOptions">refreshCompositionOptions</a></li><li><a href="global.html#refreshFromCache">refreshFromCache</a></li><li><a href="global.html#refreshLookupTable">refreshLookupTable</a></li><li><a href="global.html#refreshProviderStatuses">refreshProviderStatuses</a></li><li><a href="global.html#refreshSyncUI">refreshSyncUI</a></li><li><a href="global.html#refreshTotalsDots">refreshTotalsDots</a></li><li><a href="global.html#registerName">registerName</a></li><li><a href="global.html#removeFilter">removeFilter</a></li><li><a href="global.html#removeItemTag">removeItemTag</a></li><li><a href="global.html#renameTag">renameTag</a></li><li><a href="global.html#renderActiveFilters">renderActiveFilters</a></li><li><a href="global.html#renderApiHistoryTable">renderApiHistoryTable</a></li><li><a href="global.html#renderApiStatusSummary">renderApiStatusSummary</a></li><li><a href="global.html#renderBulkTable">renderBulkTable</a></li><li><a href="global.html#renderBulkTableBody">renderBulkTableBody</a></li><li><a href="global.html#renderBulkToolbar">renderBulkToolbar</a></li><li><a href="global.html#renderCardA">renderCardA</a></li><li><a href="global.html#renderCardB">renderCardB</a></li><li><a href="global.html#renderCardC">renderCardC</a></li><li><a href="global.html#renderCardView">renderCardView</a></li><li><a href="global.html#renderCatalogHistoryForSettings">renderCatalogHistoryForSettings</a></li><li><a href="global.html#renderCatalogHistoryTable">renderCatalogHistoryTable</a></li><li><a href="global.html#renderChangeLog">renderChangeLog</a></li><li><a href="global.html#renderCloudBackupList">renderCloudBackupList</a></li><li><a href="global.html#renderCustomPatternRules">renderCustomPatternRules</a></li><li><a href="global.html#renderCustomRuleTable">renderCustomRuleTable</a></li><li><a href="global.html#renderEligibleItemsTable">renderEligibleItemsTable</a></li><li><a href="global.html#renderFilterChipCategoryTable">renderFilterChipCategoryTable</a></li><li><a href="global.html#renderGoldbackHistoryTable">renderGoldbackHistoryTable</a></li><li><a href="global.html#renderImageStorageStats">renderImageStorageStats</a></li><li><a href="global.html#renderInlineChipConfigTable">renderInlineChipConfigTable</a></li><li><a href="global.html#renderItemPriceHistoryModalTable">renderItemPriceHistoryModalTable</a></li><li><a href="global.html#renderItemPriceHistoryTable">renderItemPriceHistoryTable</a></li><li><a href="global.html#renderLayoutSectionConfigTable">renderLayoutSectionConfigTable</a></li><li><a href="global.html#renderLbmaHistoryTable">renderLbmaHistoryTable</a></li><li><a href="global.html#renderLogTab">renderLogTab</a></li><li><a href="global.html#renderMetalOrderConfigTable">renderMetalOrderConfigTable</a></li><li><a href="global.html#renderNumistaFieldCheckboxes">renderNumistaFieldCheckboxes</a></li><li><a href="global.html#renderNumistaResultCard">renderNumistaResultCard</a></li><li><a href="global.html#renderNumistaSelectedItem">renderNumistaSelectedItem</a></li><li><a href="global.html#renderNumistaSyncUI">renderNumistaSyncUI</a></li><li><a href="global.html#renderNumistaUsageBar">renderNumistaUsageBar</a></li><li><a href="global.html#renderPcgsFieldCheckboxes">renderPcgsFieldCheckboxes</a></li><li><a href="global.html#renderPcgsSelectedItem">renderPcgsSelectedItem</a></li><li><a href="global.html#renderPcgsUsageBar">renderPcgsUsageBar</a></li><li><a href="global.html#renderSeedRuleTable">renderSeedRuleTable</a></li><li><a href="global.html#renderSpotHistoryTable">renderSpotHistoryTable</a></li><li><a href="global.html#renderSpotLookupEmpty">renderSpotLookupEmpty</a></li><li><a href="global.html#renderSpotLookupResults">renderSpotLookupResults</a></li><li><a href="global.html#renderStorageSection">renderStorageSection</a></li><li><a href="global.html#renderSyncHistorySection">renderSyncHistorySection</a></li><li><a href="global.html#renderSyncStats">renderSyncStats</a></li><li><a href="global.html#renderUserImageGrid">renderUserImageGrid</a></li><li><a href="global.html#renderVersionBadge">renderVersionBadge</a></li><li><a href="global.html#renderViewModalSectionConfigTable">renderViewModalSectionConfigTable</a></li><li><a href="global.html#replaceTemplateVariables">replaceTemplateVariables</a></li><li><a href="global.html#resetSpot">resetSpot</a></li><li><a href="global.html#resetSpotByName">resetSpotByName</a></li><li><a href="global.html#resetSpotPrice">resetSpotPrice</a></li><li><a href="global.html#resolveElement">resolveElement</a></li><li><a href="global.html#restoreBackupZip">restoreBackupZip</a></li><li><a href="global.html#restoreVaultData">restoreVaultData</a></li><li><a href="global.html#resyncCachedEntry">resyncCachedEntry</a></li><li><a href="global.html#safeAttachListener">safeAttachListener</a></li><li><a href="global.html#safeDebug">safeDebug</a></li><li><a href="global.html#safeGetElement">safeGetElement</a></li><li><a href="global.html#sanitizeHtml">sanitizeHtml</a></li><li><a href="global.html#sanitizeImportedItem">sanitizeImportedItem</a></li><li><a href="global.html#sanitizeObjectFields">sanitizeObjectFields</a></li><li><a href="global.html#sanitizeTablesOnLoad">sanitizeTablesOnLoad</a></li><li><a href="global.html#saveApiCache">saveApiCache</a></li><li><a href="global.html#saveApiConfig">saveApiConfig</a></li><li><a href="global.html#saveCatalogHistory">saveCatalogHistory</a></li><li><a href="global.html#saveData">saveData</a></li><li><a href="global.html#saveDisplayCurrency">saveDisplayCurrency</a></li><li><a href="global.html#saveExchangeRates">saveExchangeRates</a></li><li><a href="global.html#saveFilterChipCategoryConfig">saveFilterChipCategoryConfig</a></li><li><a href="global.html#saveGoldbackEnabled">saveGoldbackEnabled</a></li><li><a href="global.html#saveGoldbackEstimateEnabled">saveGoldbackEstimateEnabled</a></li><li><a href="global.html#saveGoldbackEstimateModifier">saveGoldbackEstimateModifier</a></li><li><a href="global.html#saveGoldbackPriceHistory">saveGoldbackPriceHistory</a></li><li><a href="global.html#saveGoldbackPrices">saveGoldbackPrices</a></li><li><a href="global.html#saveInlineChipConfig">saveInlineChipConfig</a></li><li><a href="global.html#saveInventory">saveInventory</a></li><li><a href="global.html#saveItemPriceHistory">saveItemPriceHistory</a></li><li><a href="global.html#saveItemTags">saveItemTags</a></li><li><a href="global.html#saveLayoutSectionConfig">saveLayoutSectionConfig</a></li><li><a href="global.html#saveNumistaViewFieldConfig">saveNumistaViewFieldConfig</a></li><li><a href="global.html#saveProviderPriorities">saveProviderPriorities</a></li><li><a href="global.html#saveSpotHistory">saveSpotHistory</a></li><li><a href="global.html#saveTrendRange">saveTrendRange</a></li><li><a href="global.html#saveUserImageForItem">saveUserImageForItem</a></li><li><a href="global.html#saveViewModalSectionConfig">saveViewModalSectionConfig</a></li><li><a href="global.html#scheduleSyncPush">scheduleSyncPush</a></li><li><a href="global.html#searchHistoricalByDate">searchHistoricalByDate</a></li><li><a href="global.html#searchPatternExistsInCustomGroups">searchPatternExistsInCustomGroups</a></li><li><a href="global.html#searchPatternMatchesAutoChip">searchPatternMatchesAutoChip</a></li><li><a href="global.html#searchQuery">searchQuery</a></li><li><a href="global.html#searchSpotByDate">searchSpotByDate</a></li><li><a href="global.html#serializeVaultFile">serializeVaultFile</a></li><li><a href="global.html#setDefaultProvider">setDefaultProvider</a></li><li><a href="global.html#setEditPreviewUrl">setEditPreviewUrl</a></li><li><a href="global.html#setProviderStatus">setProviderStatus</a></li><li><a href="global.html#setTheme">setTheme</a></li><li><a href="global.html#settingsCatalogSortAsc">settingsCatalogSortAsc</a></li><li><a href="global.html#settingsCatalogSortColumn">settingsCatalogSortColumn</a></li><li><a href="global.html#settingsCloudSortAsc">settingsCloudSortAsc</a></li><li><a href="global.html#settingsCloudSortColumn">settingsCloudSortColumn</a></li><li><a href="global.html#settingsLbmaControlsBound">settingsLbmaControlsBound</a></li><li><a href="global.html#settingsLbmaLoadPromise">settingsLbmaLoadPromise</a></li><li><a href="global.html#settingsLbmaReferenceCache">settingsLbmaReferenceCache</a></li><li><a href="global.html#settingsLbmaSortAsc">settingsLbmaSortAsc</a></li><li><a href="global.html#settingsLbmaSortColumn">settingsLbmaSortColumn</a></li><li><a href="global.html#settingsPriceSortAsc">settingsPriceSortAsc</a></li><li><a href="global.html#settingsPriceSortColumn">settingsPriceSortColumn</a></li><li><a href="global.html#settingsSpotSortAsc">settingsSpotSortAsc</a></li><li><a href="global.html#settingsSpotSortColumn">settingsSpotSortColumn</a></li><li><a href="global.html#setupAboutModalEvents">setupAboutModalEvents</a></li><li><a href="global.html#setupAckModalEvents">setupAckModalEvents</a></li><li><a href="global.html#setupApiEvents">setupApiEvents</a></li><li><a href="global.html#setupBasicEventListeners">setupBasicEventListeners</a></li><li><a href="global.html#setupBulkEditControls">setupBulkEditControls</a></li><li><a href="global.html#setupColumnResizing">setupColumnResizing</a></li><li><a href="global.html#setupDataManagementListeners">setupDataManagementListeners</a></li><li><a href="global.html#setupEventListeners">setupEventListeners</a></li><li><a href="global.html#setupFormatImport">setupFormatImport</a></li><li><a href="global.html#setupHeaderButtonListeners">setupHeaderButtonListeners</a></li><li><a href="global.html#setupImportExportListeners">setupImportExportListeners</a></li><li><a href="global.html#setupItemFormListeners">setupItemFormListeners</a></li><li><a href="global.html#setupNoteAndModalListeners">setupNoteAndModalListeners</a></li><li><a href="global.html#setupPagination">setupPagination</a></li><li><a href="global.html#setupProviderPriority">setupProviderPriority</a></li><li><a href="global.html#setupProviderSettingsListeners">setupProviderSettingsListeners</a></li><li><a href="global.html#setupResponsiveColumns">setupResponsiveColumns</a></li><li><a href="global.html#setupSearch">setupSearch</a></li><li><a href="global.html#setupSearchAndChipListeners">setupSearchAndChipListeners</a></li><li><a href="global.html#setupSettingsEventListeners">setupSettingsEventListeners</a></li><li><a href="global.html#setupSpotPriceListeners">setupSpotPriceListeners</a></li><li><a href="global.html#setupSystemThemeListener">setupSystemThemeListener</a></li><li><a href="global.html#setupTableSortListeners">setupTableSortListeners</a></li><li><a href="global.html#setupThemeToggle">setupThemeToggle</a></li><li><a href="global.html#setupVaultListeners">setupVaultListeners</a></li><li><a href="global.html#setupVersionModalEvents">setupVersionModalEvents</a></li><li><a href="global.html#shouldShowSearchSaveButton">shouldShowSearchSaveButton</a></li><li><a href="global.html#showAboutModal">showAboutModal</a></li><li><a href="global.html#showAckModal">showAckModal</a></li><li><a href="global.html#showApiHistoryModal">showApiHistoryModal</a></li><li><a href="global.html#showApiModal">showApiModal</a></li><li><a href="global.html#showApiProvidersModal">showApiProvidersModal</a></li><li><a href="global.html#showAppAlert">showAppAlert</a></li><li><a href="global.html#showAppConfirm">showAppConfirm</a></li><li><a href="global.html#showAppPrompt">showAppPrompt</a></li><li><a href="global.html#showBulkConfirm">showBulkConfirm</a></li><li><a href="global.html#showCatalogHistoryModal">showCatalogHistoryModal</a></li><li><a href="global.html#showDebugModal">showDebugModal</a></li><li><a href="global.html#showDetailsModal">showDetailsModal</a></li><li><a href="global.html#showFaqModal">showFaqModal</a></li><li><a href="global.html#showFilesModal">showFilesModal</a></li><li><a href="global.html#showFullChangelog">showFullChangelog</a></li><li><a href="global.html#showGoldbackHistoryModal">showGoldbackHistoryModal</a></li><li><a href="global.html#showManualInput">showManualInput</a></li><li><a href="global.html#showNotes">showNotes</a></li><li><a href="global.html#showNotesView">showNotesView</a></li><li><a href="global.html#showNumistaResults">showNumistaResults</a></li><li><a href="global.html#showPcgsFieldPicker">showPcgsFieldPicker</a></li><li><a href="global.html#showProviderInfo">showProviderInfo</a></li><li><a href="global.html#showSettingsModal">showSettingsModal</a></li><li><a href="global.html#showStaticVersionBadge">showStaticVersionBadge</a></li><li><a href="global.html#showSyncConflictModal">showSyncConflictModal</a></li><li><a href="global.html#showSyncUpdateModal">showSyncUpdateModal</a></li><li><a href="global.html#showTagInput">showTagInput</a></li><li><a href="global.html#showVaultStatus">showVaultStatus</a></li><li><a href="global.html#showViewModal">showViewModal</a></li><li><a href="global.html#simpleHash">simpleHash</a></li><li><a href="global.html#simplifyChipValue">simplifyChipValue</a></li><li><a href="global.html#sortInventory">sortInventory</a></li><li><a href="global.html#sortInventoryByDateNewestFirst">sortInventoryByDateNewestFirst</a></li><li><a href="global.html#sparklineInstances">sparklineInstances</a></li><li><a href="global.html#spotHistory">spotHistory</a></li><li><a href="global.html#spotPrices">spotPrices</a></li><li><a href="global.html#startBulkSync">startBulkSync</a></li><li><a href="global.html#startCellEdit">startCellEdit</a></li><li><a href="global.html#startSpotInlineEdit">startSpotInlineEdit</a></li><li><a href="global.html#startSyncPoller">startSyncPoller</a></li><li><a href="global.html#stopSyncPoller">stopSyncPoller</a></li><li><a href="global.html#stripNonAlphanumeric">stripNonAlphanumeric</a></li><li><a href="global.html#switchLogTab">switchLogTab</a></li><li><a href="global.html#switchProviderTab">switchProviderTab</a></li><li><a href="global.html#switchSettingsSection">switchSettingsSection</a></li><li><a href="global.html#syncAllProviders">syncAllProviders</a></li><li><a href="global.html#syncChipToggle">syncChipToggle</a></li><li><a href="global.html#syncCurrencySettingsUI">syncCurrencySettingsUI</a></li><li><a href="global.html#syncGoldbackSettingsUI">syncGoldbackSettingsUI</a></li><li><a href="global.html#syncHasLocalChanges">syncHasLocalChanges</a></li><li><a href="global.html#syncHeaderToggleUI">syncHeaderToggleUI</a></li><li><a href="global.html#syncLayoutVisibilityUI">syncLayoutVisibilityUI</a></li><li><a href="global.html#syncProviderChain">syncProviderChain</a></li><li><a href="global.html#syncProviderPriorityUI">syncProviderPriorityUI</a></li><li><a href="global.html#syncRestoreOverrideBackup">syncRestoreOverrideBackup</a></li><li><a href="global.html#syncSaveOverrideBackup">syncSaveOverrideBackup</a></li><li><a href="global.html#syncSettingsUI">syncSettingsUI</a></li><li><a href="global.html#syncSpotPricesFromApi">syncSpotPricesFromApi</a></li><li><a href="global.html#testApiConnection">testApiConnection</a></li><li><a href="global.html#todayStr">todayStr</a></li><li><a href="global.html#toggleChange">toggleChange</a></li><li><a href="global.html#toggleCurrencyDropdown">toggleCurrencyDropdown</a></li><li><a href="global.html#toggleGlobalPriceView">toggleGlobalPriceView</a></li><li><a href="global.html#togglePriceView">togglePriceView</a></li><li><a href="global.html#toggleTheme">toggleTheme</a></li><li><a href="global.html#toggleVaultPasswordVisibility">toggleVaultPasswordVisibility</a></li><li><a href="global.html#tokenizeWords">tokenizeWords</a></li><li><a href="global.html#updateAllSparklines">updateAllSparklines</a></li><li><a href="global.html#updateCardSortBar">updateCardSortBar</a></li><li><a href="global.html#updateColumnVisibility">updateColumnVisibility</a></li><li><a href="global.html#updateFuzzyIndicator">updateFuzzyIndicator</a></li><li><a href="global.html#updateHistoryPullCost">updateHistoryPullCost</a></li><li><a href="global.html#updateItemCount">updateItemCount</a></li><li><a href="global.html#updateLastTimestamps">updateLastTimestamps</a></li><li><a href="global.html#updateManualSpot">updateManualSpot</a></li><li><a href="global.html#updateMatchIndicator">updateMatchIndicator</a></li><li><a href="global.html#updateModalCurrencyUI">updateModalCurrencyUI</a></li><li><a href="global.html#updatePortalHeight">updatePortalHeight</a></li><li><a href="global.html#updateProviderHistoryTables">updateProviderHistoryTables</a></li><li><a href="global.html#updateProviderSettings">updateProviderSettings</a></li><li><a href="global.html#updateSaveSearchButton">updateSaveSearchButton</a></li><li><a href="global.html#updateSettingsFooter">updateSettingsFooter</a></li><li><a href="global.html#updateSparkline">updateSparkline</a></li><li><a href="global.html#updateSpotCardColor">updateSpotCardColor</a></li><li><a href="global.html#updateSpotChangePercent">updateSpotChangePercent</a></li><li><a href="global.html#updateSpotTimestamp">updateSpotTimestamp</a></li><li><a href="global.html#updateStatusCell">updateStatusCell</a></li><li><a href="global.html#updateStorageStats">updateStorageStats</a></li><li><a href="global.html#updateStrengthBar">updateStrengthBar</a></li><li><a href="global.html#updateSummary">updateSummary</a></li><li><a href="global.html#updateSyncButtonStates">updateSyncButtonStates</a></li><li><a href="global.html#updateSyncStatusIndicator">updateSyncStatusIndicator</a></li><li><a href="global.html#updateThemeButton">updateThemeButton</a></li><li><a href="global.html#useSpotPrice">useSpotPrice</a></li><li><a href="global.html#validateFieldValue">validateFieldValue</a></li><li><a href="global.html#validateInventoryItem">validateInventoryItem</a></li><li><a href="global.html#validateItemFields">validateItemFields</a></li><li><a href="global.html#vaultDecrypt">vaultDecrypt</a></li><li><a href="global.html#vaultDecryptAndRestore">vaultDecryptAndRestore</a></li><li><a href="global.html#vaultDeriveKey">vaultDeriveKey</a></li><li><a href="global.html#vaultEncrypt">vaultEncrypt</a></li><li><a href="global.html#vaultEncryptToBytes">vaultEncryptToBytes</a></li><li><a href="global.html#vaultEncryptToBytesScoped">vaultEncryptToBytesScoped</a></li><li><a href="global.html#vaultRandomBytes">vaultRandomBytes</a></li><li><a href="global.html#verifyPcgsCert">verifyPcgsCert</a></li><li><a href="global.html#wireChipSortToggle">wireChipSortToggle</a></li><li><a href="global.html#wireFeatureFlagToggle">wireFeatureFlagToggle</a></li><li><a href="global.html#wireStorageToggle">wireStorageToggle</a></li><li><a href="global.html#xhrLoadJSON">xhrLoadJSON</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Thu Feb 19 2026 08:11:00 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
