services:
  browserless:
    image: ghcr.io/browserless/chromium
    container_name: staktrakr-browserless
    ports:
      - "3000:3000"
    # TOKEN uses an inline default so the service works without copying .env.example.
    # Docker Compose also auto-loads .env for variable substitution when it exists.
    environment:
      - TOKEN=${BROWSERLESS_TOKEN:-local_dev_token}
      - CONCURRENT=5
      - QUEUED=10
      - TIMEOUT=120000
      - HEALTH=true
      - TZ=America/New_York
    restart: unless-stopped
